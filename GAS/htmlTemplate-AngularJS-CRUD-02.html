---------------------------------------- Code.gs ----------------------------------------
<script>
// Change Log:
// JSON visualization | viewer: http://chris.photobooks.com/json/default.htm
// function getEmailQuota(){Logger.log("Remaining email quota: " + MailApp.getRemainingDailyQuota());}
// Note: to accept doPost() from affiliate, (design decision:) must set: Publish > Deploy as web app > Execute the app as: me, Who has access to the app: Anyone, even anonymous // Otherwise, script will not run at server (though, client will receive responseCode=200); client response (200) is Google accounts sign-in page/form  // Decision Benefits: 1. script runs 2. script authorization bypass (i.e., not needed at UI) // Decision Costs: 1. Looser script security; mitigated by a. Site level access restrictions/permissions b. key method (e.g., switch/case k:foo)
function auth    (){}
function timer   (){Logger.log(new Date().getTime())}//1388228703613
function backup  (){var desc="Argenta™ Backup — timestamp:"+new Date().getTime(),id,out=[],db=ScriptDb.getMyDb(),results=db.query({});while(results.hasNext()){out.unshift(results.next())}id=DriveApp.createFile(desc,JSON.stringify(out),MimeType.HTML).setDescription(desc);Logger.log(id);}
function print_dbScript(){var desc="Argenta™ Print — timestamp:"+new Date().getTime(),id,out=[],db=ScriptDb.getMyDb(),results=db.query({table:"note"});while(results.hasNext()){out.unshift(results.next())}id=DriveApp.createFile(desc,JSON.stringify(out),MimeType.HTML).setDescription(desc);Logger.log(id);}
function print(str,desc){str=str||JSON.stringify(ScriptDb.getMyDb().load("S337185323966"));desc=desc||"TaxLienExchange Print — timestamp:"+new Date().getTime();DriveApp.createFile(desc,str,MimeType.HTML);}
function size    (){var db=ScriptDb.getMyDb();Logger.log(/*ScriptDb.getMyDb()*/db.query({}).getSize());}
function showById(){Logger.log(JSON.stringify(ScriptDb.getMyDb().load("S96280679164")))} // Show one record by ID
function showOne (){Logger.log(/*Utilities.jsonStringify*/JSON.stringify(ScriptDb.getMyDb().query({item:"eXjKqn1"/*/table:"note"/* /"user",user:"atlaslive@gmail.com",seller:true/*,city:"test"*/}).next()));} // Show all records in database // Reference: https://developers.google.com/apps-script/scriptdb#saving_data
function showAll (){var db=ScriptDb.getMyDb(),r,results=db.query({});while(results.hasNext()){r=results.next();Logger.log(/*Utilities.jsonStringify*/JSON.stringify(r));return arr}} // Show all records in database // Reference: https://developers.google.com/apps-script/scriptdb#saving_data
function print2ss(){LibraryjsUtil.write2ss(true,showAll(),"Sheet1","1azZ5rq1Sgy2fipwhwd75f9M6jkzvWk4TZmOzH2A4uRg"/*act*/)}
function print2doc(str,proj,clas){var desc="Backup | "+proj+" | "+clas+" | timestamp:"+new Date().getTime(),id=DriveApp.createFile(desc,str,MimeType.HTML).setDescription(desc);Logger.log("Printed doc ID: "+id)}
//function del     (){var xdb=ScriptDb.getMyDb(),arr=[],r,results=db.query({xtable:"note"/*,/*source:"fciEx_foo",* /table:db.not("report"),* /timestamp_posted:db.greaterThan(1388548425377),k:"8u0hjrtbd68s3hi1w9kl",/*"36sgd2m257w2j0sn5isa",* /"report"/* /"bid"/*"user"* /,xcity:"test"/*xseller:true,xuser* /,bidder:"atlaslive@gmail.com"*/});while(results.hasNext()){arr.push(results.next().getId());}db.removeByIdBatch(arr,false);} // Replaced: while(results.hasNext()){r=results.next();db.remove(r);}}
//function mod     (){var xdb=ScriptDb.getMyDb(),arr=[],r,results=db.query({/*item* /city:true,/*db.not(db.anyValue())/*/xtable:"note"/*,pctLtv:db.between(0,1.1),lienPos:db.not(1)/*,/*use* /lienPos:db.anyOf(["1st"/*false,db.not(db.anyValue())/*"Hospitality"/*"Commercial"/*"Apt","Multifamily"* /])/*"Oth"/* /"bid"*/});while(results.hasNext()){r=results.next();try{r.pctLtv=Math.round(100*r.balCur/r.estValue)}catch(e){r.pctLtv="";Logger.log(e.message)}/*r.lienPos=1;/*LibraryjsUtil.stateConvert(r.state,"abbr");/*.use="X";/*"CRE";/*"MUL";/*r.city=LibraryjsUtil.toCaseTitle(r.city);/*r.item=LibraryjsUtil.toBase62(Number(r.getId().slice(1)));/*if(r.askPrice==""){r.askPrice=0}/* /r.remove=false;r.accepted=false;/*r.askRate=r.buyRate;r.askPrice=r.buyPts;* /r.bids=[];/*r.table="note";r.datePosted=new Date().getTime();* /var i=r.bids.length;while(i--){/*r.bids[i].timestamp=r.bids[i].time;* /r.bids[i].accepted=false;/*r.bids[i].target_id=r.getId();* /r.bids[i].time=""/* /if(r.bids[i].bidder=="atlaslive@gmail.com"){r.bids.splice(i,1)}* /db.save(r);*/arr.push(r);}db.saveBatch(arr,false)}
//function xdoPost(e){ScriptDb.getMyDb().save(e.parameters);/*return;*/var out=ContentService.createTextOutput();out.setContent(JSON.stringify(e.parameters));return out;} // CreditReady: userId=2472, pswd=p@ssword, url=https://secure.progrexion.com/fsaffiliates/creditready/ // https://developers.google.com/apps-script/uiapp?hl=en#doGetParams // https://developers.google.com/apps-script/content_service?hl=en // Example: // <SCRIPT URL>?start=1325437200&end=1325439000;new Date(Number(request.parameters.start)*1000);new Date(Number(request.parameters.end)*1000));
function doPost (e){ // function xdoPost(e){return ContentService.createTextOutput("Hello World"/*"User says: "+JSON.stringify(e)*/)} // e.postData.getDataAsString()
    if(e && e.parameter && e.parameter.k){var k=e.parameter.k,m=e.parameter.m,p=e.parameter;switch(k){
            case   /* receive from fci */ "36sgd2m257w2j0sn5isa" : return receiveScrape (p,"fciEx"     ) ; break; // References // http://www.dimpost.com/2012/12/iframe-how-to-display-specific-part-of.html // http://stackoverflow.com/questions/5676672/how-do-i-crop-the-contents-of-an-iframe-to-show-a-part-of-a-page/14004622#14004622
            case   /* receive from nmp */ "3w34xo2xeuyy8jprgmzg" : return receiveScrape (p,"noteMktPl" ) ; break; // References // http://www.dimpost.com/2012/12/iframe-how-to-display-specific-part-of.html // http://stackoverflow.com/questions/5676672/how-do-i-crop-the-contents-of-an-iframe-to-show-a-part-of-a-page/14004622#14004622
            case   /* receive from ml  */ "8u0hjrtbd68s3hi1w9kl" : return receiveScrape (p,"moolahList") ; break; // References // http://www.dimpost.com/2012/12/iframe-how-to-display-specific-part-of.html // http://stackoverflow.com/questions/5676672/how-do-i-crop-the-contents-of-an-iframe-to-show-a-part-of-a-page/14004622#14004622
         default                                                 :                                       ; break;}}}
// function xdoGet (e){return ContentService.createTextOutput("Hello World")}
// function xdoGet (e){ // References: https://developers.google.com/apps-script/guides/html-service-communication#private_functions // https://sites.google.com/site/appsscripttutorial/miscellaneous/creating-form-elements-dynamically-using-google-apps-script-gas
 // if(e && e.parameter && e.parameter.jsoncallback){return ContentService.createTextOutput("foo({result:'<strong>Hello World'});").setMimeType(ContentService.MimeType.TEXT);}
function  doGet (e){ // References : https://developers.google.com/apps-script/uiapp, https://developers.google.com/apps-script/uiapp#ServerHandlers
    if(e && e.parameter && e.parameter.k){var k=e.parameter.k,m=e.parameter.m,p=e.parameter;switch(k){
            case   /*                      */ "hfi6cl82qwih4m8g2tf5" : var t= HtmlService.createTemplateFromFile("home21");t.m=m;return HtmlService.createHtmlOutput/*FromFile*/(t.evaluate().getContent()).setSandboxMode(HtmlService.SandboxMode.IFRAME)               ;break; // https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=hfi6cl82qwih4m8g2tf5
            case   /*                      */ "3001kdhf908dyxi448fn" : var t= HtmlService.createTemplateFromFile("home20");t.m=m;return HtmlService.createHtmlOutput/*FromFile*/(t.evaluate().getContent()).setSandboxMode(HtmlService.SandboxMode.IFRAME)               ;break; // https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=3001kdhf908dyxi448fn
            case   /*                      */ "jid048wsrnfpmi3f5p4q" : var t= HtmlService.createTemplateFromFile("home19");t.m=m;return HtmlService.createHtmlOutput/*FromFile*/(t.evaluate().getContent()).setSandboxMode(HtmlService.SandboxMode.IFRAME)               ;break; // https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=jid048wsrnfpmi3f5p4q
            case   /*                      */ "aaf8bdl9j9qpypjoycst" : var t= HtmlService.createTemplateFromFile("home18");t.m=m;return HtmlService.createHtmlOutput/*FromFile*/(t.evaluate().getContent()).setSandboxMode(HtmlService.SandboxMode.IFRAME)               ;break; // https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=aaf8bdl9j9qpypjoycst
            case   /*                      */ "vwloa49rro4yw556xihn" : var t= HtmlService.createTemplateFromFile("home17");t.m=m;return HtmlService.createHtmlOutput/*FromFile*/(t.evaluate().getContent()).setSandboxMode(HtmlService.SandboxMode.IFRAME)               ;break; // https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=vwloa49rro4yw556xihn
            case   /*                      */ "lh2l4i2l6c15p3ft6ysv" : var t= HtmlService.createTemplateFromFile("home16");t.m=m;return HtmlService.createHtmlOutput/*FromFile*/(t.evaluate().getContent()).setSandboxMode(HtmlService.SandboxMode.IFRAME)               ;break; // https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=lh2l4i2l6c15p3ft6ysv
            case   /*                      */ "1whfydgee1i01qqb1s46" : var t= HtmlService.createTemplateFromFile("home15");t.m=m;return HtmlService.createHtmlOutput/*FromFile*/(t.evaluate().getContent()).setSandboxMode(HtmlService.SandboxMode.IFRAME)               ;break; // https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=1whfydgee1i01qqb1s46
            case   /*                      */ "d2xh8fthkwvyla4e6dnp" : var t= HtmlService.createTemplateFromFile("home14");t.m=m;return HtmlService.createHtmlOutput/*FromFile*/(t.evaluate().getContent()).setSandboxMode(HtmlService.SandboxMode.IFRAME)               ;break; // https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=d2xh8fthkwvyla4e6dnp
            case   /*                      */ "rv7s4y2su7cu9bnespyo" : var t= HtmlService.createTemplateFromFile("home13");t.m=m;return HtmlService.createHtmlOutput/*FromFile*/(t.evaluate().getContent()).setSandboxMode(HtmlService.SandboxMode.IFRAME)               ;break; // https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=rv7s4y2su7cu9bnespyo
            case   /*                      */ "8fbb6mwsjj52abjszpxd" : var t= HtmlService.createTemplateFromFile("home12");t.m=m;return HtmlService.createHtmlOutput/*FromFile*/(t.evaluate().getContent()).setSandboxMode(HtmlService.SandboxMode.IFRAME)               ;break; // https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=8fbb6mwsjj52abjszpxd
            case   /*                      */ "orlj0565iyksyljusej3" : var t= HtmlService.createTemplateFromFile("home11");t.m=m;return HtmlService.createHtmlOutput/*FromFile*/(t.evaluate().getContent()).setSandboxMode(HtmlService.SandboxMode.IFRAME)               ;break; // https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=orlj0565iyksyljusej3
            case   /*                      */ "fz6c87m2csi9tn2h4s4v" : var t= HtmlService.createTemplateFromFile("home10");t.m=m;return HtmlService.createHtmlOutput/*FromFile*/(t.evaluate().getContent()).setSandboxMode(HtmlService.SandboxMode.IFRAME)               ;break; // https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=fz6c87m2csi9tn2h4s4v
            case   /*                      */ "uwesajhrt8hrikfe3u4n" : var t= HtmlService.createTemplateFromFile("home09");t.m=m;return HtmlService.createHtmlOutput/*FromFile*/(t.evaluate().getContent()).setSandboxMode(HtmlService.SandboxMode.IFRAME)               ;break; // https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=uwesajhrt8hrikfe3u4n
            case   /*                      */ "kkpvxrdkbxhpqqji7hea" : var t= HtmlService.createTemplateFromFile("home08");t.m=m;return HtmlService.createHtmlOutput/*FromFile*/(t.evaluate().getContent()).setSandboxMode(HtmlService.SandboxMode.IFRAME)               ;break; // https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=kkpvxrdkbxhpqqji7hea
            case   /*                      */ "7tjvfsi1wsnvm7w3ky7a" : var t= HtmlService.createTemplateFromFile("home07");t.m=m;return HtmlService.createHtmlOutput/*FromFile*/(t.evaluate().getContent()).setSandboxMode(HtmlService.SandboxMode.IFRAME)               ;break; // https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=7tjvfsi1wsnvm7w3ky7a
            case   /*                      */ "qahmonjq1adg51x5tz86" : var t= HtmlService.createTemplateFromFile("home06");t.m=m;return HtmlService.createHtmlOutput/*FromFile*/(t.evaluate().getContent()).setSandboxMode(HtmlService.SandboxMode.IFRAME)               ;break; // https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=qahmonjq1adg51x5tz86
            case   /*                      */ "rcd3trcmpywmwr4nih4t" : var t= HtmlService.createTemplateFromFile("home05");t.m=m;return HtmlService.createHtmlOutput/*FromFile*/(t.evaluate().getContent()).setSandboxMode(HtmlService.SandboxMode.IFRAME)               ;break; // https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=rcd3trcmpywmwr4nih4t
            case   /*                      */ "1yerz7kebrjt2bwjxob0" : var t= HtmlService.createTemplateFromFile("home04");t.m=m;return HtmlService.createHtmlOutput/*FromFile*/(t.evaluate().getContent()).setSandboxMode(HtmlService.SandboxMode.IFRAME)               ;break; // https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=1yerz7kebrjt2bwjxob0
            case   /*                      */ "ih4qy9gb5nzgmndo1nii" : var t= HtmlService.createTemplateFromFile("home03");t.m=m;return HtmlService.createHtmlOutput/*FromFile*/(t.evaluate().getContent()).setSandboxMode(HtmlService.SandboxMode.IFRAME)               ;break; // https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=ih4qy9gb5nzgmndo1nii
            case   /*                      */ "7mdtrpbukxppjl57gxez" : var t= HtmlService.createTemplateFromFile("home02");t.m=m;return HtmlService.createHtmlOutput/*FromFile*/(t.evaluate().getContent()).setSandboxMode(HtmlService.SandboxMode.IFRAME)               ;break; // https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=7mdtrpbukxppjl57gxez
            case   /*                      */ "9h3njfs6ohusbp2ievz7" : var t= HtmlService.createTemplateFromFile("home01");t.m=m;return HtmlService.createHtmlOutput/*FromFile*/(t.evaluate().getContent()).setSandboxMode(HtmlService.SandboxMode.IFRAME)               ;break; // https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=9h3njfs6ohusbp2ievz7&m=afp8qussqx06rgtskh30 // Added URL parameter passed to HTML page
            case   /*                      */ "1sv3w02acjab165npapw" : var t= HtmlService.createTemplateFromFile("home00");t.m=m;return HtmlService.createHtmlOutput/*FromFile*/(t.evaluate().getContent()).setSandboxMode(HtmlService.SandboxMode.IFRAME)               ;break; // https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=1sv3w02acjab165npapw
		//  case   /*                      */ "9h3njfs6ohusbp2ievz7" : return HtmlService.createHtmlOutput/*FromFile*/(HtmlService.createTemplateFromFile("home").evaluate().getContent()               ).setSandboxMode(HtmlService.SandboxMode.IFRAME)                 ;break; // .IFRAME is necessary to make glyphicons work so use this "nesting" approach
    	//  case   /*                      */ "1sv3w02acjab165npapw" : return HtmlService.createTemplateFromFile  ("home.html"                                                                          ).evaluate()                                                     ;break;
            case   /*                      */ "60s6kgeyb91lkz128c9o" : return HtmlService.createHtmlOutputFromFile("repeater.html"                                                                      ).setSandboxMode(HtmlService.SandboxMode.IFRAME)                 ;break;
	        case   /* table  serve         */ "hyg0hu5umfobawuzwi1f" : return ContentService.createTextOutput(e.parameter.    callback+"(" + JSON.stringify(serveTable           ( )) + ")"             ).setMimeType(ContentService.MimeType./*TEXT /*JSON*/JAVASCRIPT );break; 
            case   /* table  receive       */ "owos3zj5e6xvcmu6lje1" : return ContentService.createTextOutput(e.parameter.    callback+"(" + JSON.stringify(receiveTable         (p)) + ")"             ).setMimeType(ContentService.MimeType./*TEXT /*JSON*/JAVASCRIPT );break; 
         default                                                     : break;}}
	if(SitesApp.getActiveSite()){var siteName = SitesApp.getActiveSite().getName();switch(siteName){
			case   "onlinenoteexchange"            : 
					if(SitesApp.getActivePage()){var pageName = SitesApp.getActivePage().getName();switch(pageName){
							case   "sell"          : return HtmlService.createHtmlOutputFromFile("sell.html"            ).setSandboxMode(HtmlService.SandboxMode.NATIVE           );break;
							case   "buy"           : return HtmlService.createHtmlOutputFromFile("buy.html"             ).setSandboxMode(HtmlService.SandboxMode.NATIVE           );break;
							case   "sandbox"       : return HtmlService.createHtmlOutputFromFile("sandbox.html"         ).setSandboxMode(HtmlService.SandboxMode.NATIVE           );break;
							case   "authorize"     : return authorize                           (                       )                                                          ;break;
						 default                   :                    ;break;}}
			case   "taxlienexchange"               : 
					if(SitesApp.getActivePage()){var pageName = SitesApp.getActivePage().getName();switch(pageName){
                            case   "home"          : return HtmlService.createTemplateFromFile  (       "order.html").evaluate()                                      ;break; // Reference: https://developers.google.com/apps-script/guides/html-service-caja#setsandboxmode
                            case   "account"       : return HtmlService.createTemplateFromFile  (     "account.html").evaluate()                                      ;break; // Reference: https://developers.google.com/apps-script/guides/html-service-caja#setsandboxmode
                            case   "charts"        : return HtmlService.createTemplateFromFile  (       "chart.html").evaluate()                                      ;break; // Reference: https://developers.google.com/apps-script/guides/html-service-caja#setsandboxmode
                         // case   "sign-up"       : return HtmlService.createTemplateFromFile  (      "signUp.html").evaluate()                                      ;break; // Reference: https://developers.google.com/apps-script/guides/html-service-caja#setsandboxmode
                         // case   "sign-in"       : return HtmlService.createTemplateFromFile  (      "signIn.html").evaluate()                                      ;break; // Reference: https://developers.google.com/apps-script/guides/html-service-caja#setsandboxmode
                         // case   "home"          : return HtmlService.createHtmlOutputFromFile(       "order.html").setSandboxMode(HtmlService.SandboxMode.NATIVE  );break;
                         // case   "authorize"     : return authorize ();break;
                         default                   :                    ;break;}}
        //  case   "creditrepairnation"            : // acquire inventory
		//			if(SitesApp.getActivePage()){var pageName = SitesApp.getActivePage().getName();switch(pageName){
        //                  case   "home"          : return HtmlService.createHtmlOutputFromFile(     "collect.html").setSandboxMode(HtmlService.SandboxMode.NATIVE  );break;
		//  			 default                   :                    ;break;}}
         default                                   : break;}}}
function authorize(){return HtmlService.createHtmlOutput("<div align='center' style='color:#808080;font-family:verdana;color:orange;font-weight:bold;margin-top:15px;'>Authorization successful!<div style='color:#808080;font-size:smaller;font-weight:normal;'>You may now access all features</div><img src='https://lh5.googleusercontent.com/-a81AytXYq0Q/Umtn0FrFdhI/AAAAAAAAIyE/xCYArSNCR1k/s144/orange-check-mark.png' height='100'></div>")}
function processForm_receiveFundDocs(ob){var i,user=Session.getActiveUser().getEmail(),t=new Date().getTime(),db=ScriptDb.getMyDb(),q={table:"user",seller:true,user:user},r=db.query(q).next();
    if(!r){r=q;r.record=[];r.emailList={current:[],archive:[]};}r.record.unshift(ob);r.record[0].date=t;r.emailList.current.unshift((t+","+ob.emailListString).split(/[\s,]+/)); // function test(){Logger.log("foo bar, zap-foo, baz bat".split(/[\s,]+/))} // Search term: split string by commar or space // Reference: http://stackoverflow.com/questions/1835032/regexp-split-string-by-commas-and-spaces-but-ignore-hyphenated-words
    i=r.emailList.current[0].length;while(i---1){if(r.emailList.archive.indexOf(r.emailList.current[i])==-1){r.emailList.archive.push(r.emailList.current[0][i])}}Logger.log(JSON.stringify(r));db.save(r)}
function processForm_registerSeller(ob){var i,user=Session.getActiveUser().getEmail(),t=new Date().getTime(),db=ScriptDb.getMyDb(),q={table:"user",seller:true,user:user},r=db.query(q).next();
    if(!r){r=q;r.record=[];r.emailList={current:[],archive:[]};}r.record.unshift(ob);r.record[0].timestamp=t;r.emailList.current.unshift((t+","+ob.emailListString).split(/[\s,]+/)); // function test(){Logger.log("foo bar, zap-foo, baz bat".split(/[\s,]+/))} // Search term: split string by commar or space // Reference: http://stackoverflow.com/questions/1835032/regexp-split-string-by-commas-and-spaces-but-ignore-hyphenated-words
    i=r.emailList.current[0].length;while(i---1){if(r.emailList.archive.indexOf(r.emailList.current[i])==-1){r.emailList.archive.push(r.emailList.current[0][i])}}Logger.log(JSON.stringify(r));db.save(r)}
function processForm_addNote(ob){var user=Session.getActiveUser().getEmail(),t=new Date().getTime(),db=ScriptDb.getMyDb(),u=db.query({table:"user",user:user,seller:true}).next(),i,dist=u.emailList.current[0].slice(1),site=SitesApp.getSite("onlinenoteexchange");if(!u.record[0].agreed){Logger.log(user+" did not agree to groundrules.");return}ob.table="note";ob.timestamp_posted=t;ob.seller=user;ob.remove=false;ob.accepted=false;ob.filePic=processPic(ob.filePic);ob.fileDoc=processDoc(ob.fileDoc);if(ob.askPrice==""){ob.askPrice=0};var id=db.save(ob).getId(),r=db.load(id);r.item=LibraryjsUtil.toBase62(Number(id.slice(1)));db.save(r);
    chromeLogoBlob=UrlFetchApp.fetch("https://lh5.googleusercontent.com/-zCLeer1r3ro/Udnn8thtnmI/AAAAAAAAHys/lWkaQnXPv_Q/s144/Google_Chrome_icon_2011.jpg").getBlob().setName("chromeLogoBlob");
    i=dist.length;while(i--){try{site.addViewer(dist[i])}catch(e){Logger.log(dist[i]+": "+e.message)}MailApp.sendEmail({to:dist[i],subject:"New loan: "+r.askRate+"%, "+r.askPrice+" points",htmlBody:("<a href='https://sites.google.com/site/onlinenoteexchange/buy'>Click here</a> (item: "+r.item+") <a href='https://www.google.com/intl/en/chrome/browser/'><img src='cid:chromeLogo' height='15' style='text-decoration:none;border:0;outline:none'></a> <a href='https://www.google.com/intl/en/chrome/browser/'>Chrome required</a>.<br><br>Rate: "+r.askRate+"% +"+r.askPrice+" points<br><br>Collateral:<br>"+r.sa+", "+r.city+", "+r.state+" "+r.zip+"<br>"+r.use+", "+r.beds+" beds, "+r.baths+" baths, "+r.sqft+" sqft, "+"<br><br>Loan Type: "+r.purpose+"<br>Unpaid Principal Balance: $"+r.balCur+"<br>Estimated Value: $"+r.estValue+"<br>LTV: "+r.pctLtv/*+"%<br>Term: "+r.term+" months<br>"*/+"<br>Highlights: "+r.notes),name:"atlaslive@gmail.com",inlineImages:{chromeLogo:chromeLogoBlob/*,youtubeLogo:youtubeLogoBlob*/}});}/*Logger.log(JSON.stringify(ob));*/return}
function sendUserToClient(){var user=Session.getActiveUser().getEmail(),u=ScriptDb.getMyDb().query({table:"user",seller:true,user:user}).next();/*Logger.log(JSON.stringify(r));*/return u;}
function processDoc(blob){try{var id=DocsList.createFile(blob/*.getAs("application/pdf")*/).getId();}catch(e){Logger.log("Error XpfAg: "+e.message);return "";}DriveApp.getFileById(id).setSharing(DriveApp.Access.ANYONE_WITH_LINK,DriveApp.Permission.VIEW);return DocsList.getFileById(id).getUrl();} // Reference: https://developers.google.com/apps-script/reference/base/composite-blob#getAs(String) // Reference: https://code.google.com/p/google-apps-script-issues/issues/detail?id=1660 see #37, Oct 13, 2012 // Use DocsList instead of DriveApp which will not allow document to be viewed properly
function processPic(blob){if(!blob.length){return ""}return "https://drive.google.com/uc?export=view&id="+DriveApp.createFile(blob/*.getAs("image/jpeg")*/).setSharing(DriveApp.Access.ANYONE_WITH_LINK,DriveApp.Permission.VIEW).getId()} // Image // Reference: http://stackoverflow.com/questions/10311092/displaying-files-e-g-images-stored-in-google-drive-on-a-website // http://stackoverflow.com/questions/14717426/referencing-project-files-with-html-service > http://googleappsdeveloper.blogspot.in/2012/11/announcing-google-drive-site-publishing.html
function receiveBuy(p){/*if((p.bidPrice=="")||(p.bidRate=="")){return} — Needs initial "" for first bid */Logger.log(JSON.stringify(p));var db=ScriptDb.getMyDb(),user=Session.getUser().getEmail(),t=new Date().getTime();p.db_id=LibraryjsUtil.rc4Decrypt("DktaE",p.db_id);var r=db.load(p.db_id);if(r.accepted||(r.remove||((r.askRate&&(p.bidRate<r.askRate))&&(r.askPrice&&(p.bidPrice<r.askPrice))))){return} // Bid rate OR pts CAN exceed ask to sweeten offer — but not BOTH
    if(r.bids==null){r.bids=[]}var accepted=((p.bidRate==r.askRate)&&(p.bidPrice==r.askPrice));r.bids.push({bidder:user,rate:p.bidRate,points:p.bidPrice,target_id:/*LibraryjsUtil.rc4Decrypt("vDMm0",r.getId())/*==*/p.db_id,timestamp:t,accepted:accepted});db.saveBatch([r,{table:"bid",target_id:/*LibraryjsUtil.rc4Decrypt("vDMm0",*/p.db_id/*==r.getId()-->Causes breakage*//*)*/,rate:p.bidRate,points:p.bidPrice,bidder:user,timestamp:t,accepted:accepted}],false);if(accepted){/*Send email*/}return;}
function receiveSell(p){Logger.log(JSON.stringify(p));var db=ScriptDb.getMyDb(),user=Session.getUser().getEmail(),i,r,rb,t=new Date().getTime();switch(p.k){
    case "346f7w5jalx8cdwsfc2d"/*Remove*/:p.db_id=LibraryjsUtil.rc4Decrypt("DktaE",p.  db_id           );r=db.load(p.db_id);r.remove  =p.remove  ;r.timestamp_remove  =t;break;
    case "8u0ghdqoe4bw7ypepi0e"/*Accept*/:p.db_id=LibraryjsUtil.rc4Decrypt("vDMm0",p./*db_id*/target_id);r=db.load(p.db_id);r.accepted=p.accepted;r.timestamp_accepted=t;
        i=r.bids.length;while(i--){if(r.bids[i].bidder==LibraryjsUtil.rc4Decrypt("WnJ9n",p.bidder)&&r.bids[i].rate==p.rate&&r.bids[i].points==p.points){r.bids[i].accepted=true;break;}}
        rb=db.query({target_id:p.db_id}).next();rb.accepted=true;rb.accepted_timestamp=t;break;
    default:break;}db.save(r);return;}
function receiveReport(p){Logger.log(JSON.stringify(p));var r,db=ScriptDb.getMyDb(),user=Session.getUser().getEmail(),t=new Date().getTime();p.db_id=LibraryjsUtil.rc4Decrypt("DktaE",p.db_id);r=db.load(p.db_id);r.roi.unshift({timestamp:t,amt:p.roi});db.save(r);return;}
function receiveScrape(p,source){ // Standardize scraped variables
 // var source=source||"fciEx",p=p||{"k":"36sgd2m257w2j0sn5isa","list":"{\"zip\":\"\",\"sa\":\"\",\"pctUpb\":85,\"ask\":237604.85,\"rateNote\":7.125,\"balCur\":279535.12,\"balBeg\":291600,\"lienPos\":1,\"loanStatus\":\"P\",\"foo\":\"width=\\\"154\\\" height=\\\"19\\\" class=\\\"tborder-left\\\" align=\\\"center\\\"\",\"sellerId\":\"U0001733\",\"link_sellerListings\":\"seller-listings.php?sellerID=1733\",\"state\":\"MI\",\"city\":\"West Bloomfield\",\"prodId\":13017,\"link_details\":\"/MICHIGAN/Residential/Performing/0013017.html\"}","detail":"{\"estPropVal_1\":\"0.00\",\"address\":\"West Bloomfield MI\",\"ask_1\":\"85\",\"foo\":\"id=\\\"c41_ctl\\\"\",\"productId\":\"0013017\",\"lienPos\":\"1\",\"loanStatus\":\"P\",\"paidTo\":\"12/01/2013\",\"loanMaturity\":\"09/01/2034\",\"loanType\":\"SFR\",\"ltvRatio\":\"0.000\",\"balBeg\":\"291600.00\",\"balCur\":\"279535.12\",\"estPropVal_2\":\"0.00\",\"valuationType\":\"Other\",\"valuationDate\":false,\"noteRate\":\"7.125\",\"soldRate\":\"0.000\",\"originationDate\":\"10/08/2003\",\"pmtFrequency\":\"Monthly\",\"pmtNextDue\":\"01/01/2014\",\"pmtMonthlyAmt\":\"2125.64\",\"taxesDue\":\"0.00\",\"loanCharges\":\"0.00\",\"lateChargeDays\":\"15\",\"unpaidInterest\":\"0.00\",\"lateCharge\":\"5.00\",\"ask_2\":\"85\",\"buyNow\":\".\",\"comments\":\"No comments.\",\"state\":\"MI\",\"city\":\"West,Bloomfield\"}"}
    ;p.list=JSON.parse(p.list);p.detail=JSON.parse(p.detail);//Logger.log(JSON.stringify(p));
    var ob=p 
      ; ob.accepted         = false
      ; ob.arv              = ""
      ; ob.askPrice         = (function(){try{ switch(source){case "fciEx":return ( p.list.ask                                            );break;case "noteMktPl":return ( p.detail.ask_2  ||  p.list.ask_1                );break;case "moolahList":return ( ""                                                                                    );break;default:return "";break;}}catch(e){Logger.log("Error vWCQp: "+e.message);return ""}})()
      ; ob.askRate          = (function(){try{ switch(source){case "fciEx":return ( p.detail.soldRate||p.detail.noteRate||p.list.rateNote );break;case "noteMktPl":return ( ""                                              );break;case "moolahList":return ( ""                                                                                    );break;default:return "";break;}}catch(e){Logger.log("Error L7R6M: "+e.message);return ""}})()
      ; ob.balBeg           = (function(){try{ switch(source){case "fciEx":return ( p.detail.balBeg        || p.list.balBeg               );break;case "noteMktPl":return ( p.detail.balBeg                                 );break;case "moolahList":return ( p.detail.amount           || p.list.amount                                            );break;default:return "";break;}}catch(e){Logger.log("Error Z4Ym4: "+e.message);return ""}})()
      ; ob.balCur           = (function(){try{ switch(source){case "fciEx":return ( p.detail.balCur        || p.list.balCur               );break;case "noteMktPl":return ( p.detail.balCur                                 );break;case "moolahList":return ( p.detail.amount           || p.list.amount                                            );break;default:return "";break;}}catch(e){Logger.log("Error wcQX5: "+e.message);return ""}})()
      ; ob.ballAmt          = ""
      ; ob.balloon          = (function(){try{ switch(source){case "fciEx":return ( ""                                                    );break;case "noteMktPl":return ( p.detail.balloon                                );break;case "moolahList":return ( ""                                                                                    );break;default:return "";break;}}catch(e){Logger.log("Error 4IxxQ: "+e.message);return ""}})()
      ; ob.baths            = ""
      ; ob.beds             = ""
      ; ob.borPts           = ""
      ; ob.borRate          = (function(){try{ switch(source){case "fciEx":return ( p.detail.noteRate      || p.list.rateNote             );break;case "noteMktPl":return ( p.detail.borRate                                );break;case "moolahList":return ( ""                                                                                    );break;default:return "";break;}}catch(e){Logger.log("Error v2JrB: "+e.message);return ""}})()
      ; ob.city             = (function(){try{ switch(source){case "fciEx":return ( p.list.city            || p.detail.city               );break;case "noteMktPl":return ( p.detail.city                                   );break;case "moolahList":return ( p.detail.city                                                                         );break;default:return "";break;}}catch(e){Logger.log("Error yELY4: "+e.message);return ""}})()
      ; ob.dateMaturity_day = (function(){try{ switch(source){case "fciEx":return ( p.detail.loanMaturity   .day                          );break;case "noteMktPl":return ( p.detail.maturityDate   .day                    );break;case "moolahList":return ( ""                                                                                    );break;default:return "";break;}}catch(e){Logger.log("Error jXEr5: "+e.message);return ""}})()
      ; ob.dateMaturity_mo  = (function(){try{ switch(source){case "fciEx":return ( p.detail.loanMaturity   .month                        );break;case "noteMktPl":return ( p.detail.maturityDate   .month                  );break;case "moolahList":return ( ""                                                                                    );break;default:return "";break;}}catch(e){Logger.log("Error Umkgq: "+e.message);return ""}})()
      ; ob.dateMaturity_yr  = (function(){try{ switch(source){case "fciEx":return ( p.detail.loanMaturity   .year                         );break;case "noteMktPl":return ( p.detail.maturityDate   .year                   );break;case "moolahList":return ( ""                                                                                    );break;default:return "";break;}}catch(e){Logger.log("Error a90Sq: "+e.message);return ""}})()
      ; ob.datePaidTo_day   = (function(){try{ switch(source){case "fciEx":return ( p.detail.paidTo         .day                          );break;case "noteMktPl":return ( p.detail.lastPmtDate    .day                    );break;case "moolahList":return ( ""                                                                                    );break;default:return "";break;}}catch(e){Logger.log("Error ZzL60: "+e.message);return ""}})()
      ; ob.datePaidTo_mo    = (function(){try{ switch(source){case "fciEx":return ( p.detail.paidTo         .month                        );break;case "noteMktPl":return ( p.detail.lastPmtDate    .month                  );break;case "moolahList":return ( ""                                                                                    );break;default:return "";break;}}catch(e){Logger.log("Error rXGRu: "+e.message);return ""}})()
      ; ob.datePaidTo_yr    = (function(){try{ switch(source){case "fciEx":return ( p.detail.paidTo         .year                         );break;case "noteMktPl":return ( p.detail.lastPmtDate    .year                   );break;case "moolahList":return ( ""                                                                                    );break;default:return "";break;}}catch(e){Logger.log("Error 44Uav: "+e.message);return ""}})()
      ; ob.dateNext_day     = (function(){try{ switch(source){case "fciEx":return ( p.detail.pmtNextDue     .day                          );break;case "noteMktPl":return (""                                               );break;case "moolahList":return ( ""                                                                                    );break;default:return "";break;}}catch(e){Logger.log("Error BXltz: "+e.message);return ""}})()
      ; ob.dateNext_mo      = (function(){try{ switch(source){case "fciEx":return ( p.detail.pmtNextDue     .month                        );break;case "noteMktPl":return (""                                               );break;case "moolahList":return ( ""                                                                                    );break;default:return "";break;}}catch(e){Logger.log("Error lYU7Y: "+e.message);return ""}})()
      ; ob.dateNext_yr      = (function(){try{ switch(source){case "fciEx":return ( p.detail.pmtNextDue     .year                         );break;case "noteMktPl":return (""                                               );break;case "moolahList":return ( ""                                                                                    );break;default:return "";break;}}catch(e){Logger.log("Error EwT1t: "+e.message);return ""}})()
      ; ob.dateOrig_day     = (function(){try{ switch(source){case "fciEx":return ( p.detail.originationDate.day                          );break;case "noteMktPl":return ( p.detail.originationDate.day                    );break;case "moolahList":return ( ""                                                                                    );break;default:return "";break;}}catch(e){Logger.log("Error Oiauo: "+e.message);return ""}})()
      ; ob.dateOrig_mo      = (function(){try{ switch(source){case "fciEx":return ( p.detail.originationDate.month                        );break;case "noteMktPl":return ( p.detail.originationDate.month                  );break;case "moolahList":return ( ""                                                                                    );break;default:return "";break;}}catch(e){Logger.log("Error pimlG: "+e.message);return ""}})()
      ; ob.dateOrig_yr      = (function(){try{ switch(source){case "fciEx":return ( p.detail.originationDate.year                         );break;case "noteMktPl":return ( p.detail.originationDate.year                   );break;case "moolahList":return ( ""                                                                                    );break;default:return "";break;}}catch(e){Logger.log("Error l2FMa: "+e.message);return ""}})()
      ; ob.datePosted_day   = (function(){try{ switch(source){case "fciEx":return ( ""                                                    );break;case "noteMktPl":return ( ""                                              );break;case "moolahList":return ( p.detail.datePosted.day                                                               );break;default:return "";break;}}catch(e){Logger.log("Error lkReb: "+e.message);return ""}})()
      ; ob.datePosted_mo    = (function(){try{ switch(source){case "fciEx":return ( ""                                                    );break;case "noteMktPl":return ( ""                                              );break;case "moolahList":return ( p.list  .datePosted.split("/")[0] /* Ex. p.list.datePosted.month=="8/9" */            );break;default:return "";break;}}catch(e){Logger.log("Error d2bQk: "+e.message);return ""}})()
      ; ob.datePosted_yr    = (function(){try{ switch(source){case "fciEx":return ( ""                                                    );break;case "noteMktPl":return ( ""                                              );break;case "moolahList":return ( p.detail.datePosted.year                                                              );break;default:return "";break;}}catch(e){Logger.log("Error HavAK: "+e.message);return ""}})()
      ; ob.doc_appraisal    = true
      ; ob.doc_closing      = true
      ; ob.doc_hazard       = true
      ; ob.doc_note         = true
      ; ob.doc_pics         = true
      ; ob.doc_pmts         = true
      ; ob.doc_title        = true
      ; ob.downPmt          = (function(){try{ switch(source){case "fciEx":return ( ""                                                    );break;case "noteMktPl":return ( ""                                              );break;case "moolahList":return ( p.detail.availDown                                                                    );break;default:return "";break;}}catch(e){Logger.log("Error 9GcvY: "+e.message);return ""}})()
      ; ob.estDate_day      = (function(){try{ switch(source){case "fciEx":return ( p.detail.valuationDate  .day                          );break;case "noteMktPl":return ( p.detail.valuationDate  .day                    );break;case "moolahList":return ( ""                                                                                    );break;default:return "";break;}}catch(e){Logger.log("Error nNDdI: "+e.message);return ""}})()
      ; ob.estDate_mo       = (function(){try{ switch(source){case "fciEx":return ( p.detail.valuationDate  .month                        );break;case "noteMktPl":return ( p.detail.valuationDate  .month                  );break;case "moolahList":return ( ""                                                                                    );break;default:return "";break;}}catch(e){Logger.log("Error XwCFR: "+e.message);return ""}})()
      ; ob.estDate_yr       = (function(){try{ switch(source){case "fciEx":return ( p.detail.valuationDate  .year                         );break;case "noteMktPl":return ( p.detail.valuationDate  .year                   );break;case "moolahList":return ( ""                                                                                    );break;default:return "";break;}}catch(e){Logger.log("Error CvZD6: "+e.message);return ""}})()
      ; ob.estMethod        = (function(){try{ switch(source){case "fciEx":return ( p.detail.valuationType                                );break;case "noteMktPl":return ( ""                                              );break;case "moolahList":return ( ""                                                                                    );break;default:return "";break;}}catch(e){Logger.log("Error rHE5W: "+e.message);return ""}})()
      ; ob.estValue         = (function(){try{ switch(source){case "fciEx":return ( p.detail.estPropVal_2  || p.detail.estPropVal_1       );break;case "noteMktPl":return ( p.detail.propVal                                );break;case "moolahList":return ( p.detail.collateralValue                                                              );break;default:return "";break;}}catch(e){Logger.log("Error Pfrrq: "+e.message);return ""}})()
      ; ob.exit             = (function(){try{ switch(source){case "fciEx":return ( ""                                                    );break;case "noteMktPl":return ( ""                                              );break;case "moolahList":return ( p.detail.exitPlan                                                                     );break;default:return "";break;}}catch(e){Logger.log("Error lHcPk: "+e.message);return ""}})()
      ; ob.fileDoc          = ""
      ; ob.filePic          = ""
   // ; ob.item             = ""
      ; ob.lienPos          = (function(){try{ switch(source){case "fciEx":return ( p.detail.lienPos       || p.list.lienPos              );break;case "noteMktPl":return ( p.detail.lienPosition                           );break;case "moolahList":return ( p.detail.lienPos  || p.list.lienPos                                                   );break;default:return "";break;}}catch(e){Logger.log("Error LTAL9: "+e.message);return ""}})()
      ; ob.loanStatus       = (function(){try{ switch(source){case "fciEx":return ( p.detail.loanStatus    || p.list.loanStatus           );break;case "noteMktPl":return ( p.list.loanStatus                               );break;case "moolahList":return ( "A"                                                                                   );break;default:return "";break;}}catch(e){Logger.log("Error J2xVe: "+e.message);return ""}})()
      ; ob.notes            = (function(){try{ switch(source){case "fciEx":return ( p.list.comments                                       );break;case "noteMktPl":return ( ""                                              );break;case "moolahList":return ( "Exit:<br>" + p.detail.exitPlan + "<br><br>Funds used for:<br>" + p.detail.useOfFunds );break;default:return "";break;}}catch(e){Logger.log("Error 1S2yI: "+e.message);return ""}})()
      ; ob.occ              = (function(){try{ switch(source){case "fciEx":return ( ""                                                    );break;case "noteMktPl":return ( p.detail.ownerOccupied                          );break;case "moolahList":return ( ""                                                                                    );break;default:return "";break;}}catch(e){Logger.log("Error pyVar: "+e.message);return ""}})()
      ; ob.payBad           = ""
      ; ob.payGood          = ""
      ; ob.pctLtv           = (function(){try{ switch(source){case "fciEx":return ( p.detail.ltvRatio                                     );break;case "noteMktPl":return ( Math.round(100*p.detail.balCur/p.detail.propVal));break;case "moolahList":return ( p.detail.ltv      || p.list.ltv                                                       );break;default:return "";break;}}catch(e){Logger.log("Error o9kiy: "+e.message);return ""}})()
      ; ob.pctUpb           = (function(){try{ switch(source){case "fciEx":return ((p.detail.ask_2 || p.detail.ask_1) || p.list.pctUpb    );break;case "noteMktPl":return ( ""                                              );break;case "moolahList":return ( ""                                                                                    );break;default:return "";break;}}catch(e){Logger.log("Error MMJJM: "+e.message);return ""}})()
      ; ob.pmtAmt           = (function(){try{ switch(source){case "fciEx":return ( p.detail.pmtMonthlyAmt                                );break;case "noteMktPl":return ( p.detail.pmtNote                                );break;case "moolahList":return ( ""                                                                                    );break;default:return "";break;}}catch(e){Logger.log("Error G6HvR: "+e.message);return ""}})()
   // ; ob.pmtsLeft         = ""
   // ; ob.pmtsRecd         = ""
      ; ob.purpose          = (function(){try{ switch(source){case "fciEx":return ( ""                                                    );break;case "noteMktPl":return ( ""                                              );break;case "moolahList":return ( p.detail.loanType || p.list.loanType                                                  );break;default:return "";break;}}catch(e){Logger.log("Error h6gpy: "+e.message);return ""}})()
      ; ob.purPrice         = ""
      ; ob.remove           = false
      ; ob.rent             = (function(){try{ switch(source){case "fciEx":return ( ""                                                    );break;case "noteMktPl":return ( p.detail.rent                                   );break;case "moolahList":return ( ""                                                                                    );break;default:return "";break;}}catch(e){Logger.log("Error 7X5F7: "+e.message);return ""}})()
      ; ob.sa               = (function(){try{ switch(source){case "fciEx":return ( p.list.sa                                             );break;case "noteMktPl":return ( ""                                              );break;case "moolahList":return ( p.detail.sa                                                                           );break;default:return "";break;}}catch(e){Logger.log("Error bbF5g: "+e.message);return ""}})()
      ; ob.schedRE          = ""
      ; ob.seller           = (function(){try{ switch(source){case "fciEx":return ( "fciEx_"+p.list.prodId || "fciEx_"+p.detail.productId );break;case "noteMktPl":return ( p.detail.link_details_2||p.list.link_details_1  );break;case "moolahList":return ( ""                                                                                    );break;default:return "";break;}}catch(e){Logger.log("Error QqeYq: "+e.message);return ""}})()
      ; ob.source           = (function(){try{ switch(source){case "fciEx":return ( "fciEx_"+p.list.sellerId                              );break;case "noteMktPl":return ( "noteMktPl_"+p.list.sellerId                    );break;case "moolahList":return ( ""                                                                                    );break;default:return "";break;}}catch(e){Logger.log("Error wZjUY: "+e.message);return ""}})()
      ; ob.sqft             = (function(){try{ switch(source){case "fciEx":return ( ""                                                    );break;case "noteMktPl":return ( p.detail.sqft                                   );break;case "moolahList":return ( ""                                                                                    );break;default:return "";break;}}catch(e){Logger.log("Error 3rgiy: "+e.message);return ""}})()
      ; ob.sqftLot          = (function(){try{ switch(source){case "fciEx":return ( ""                                                    );break;case "noteMktPl":return ( p.detail.sqftLot                                );break;case "moolahList":return ( ""                                                                                    );break;default:return "";break;}}catch(e){Logger.log("Error uDr7j: "+e.message);return ""}})()
      ; ob.state            = (function(){try{ switch(source){case "fciEx":return ( p.detail.state         || p.list.state                );break;case "noteMktPl":return ( p.detail.state                                  );break;case "moolahList":return ( p.detail.state    || p.list.state                                                     );break;default:return "";break;}}catch(e){Logger.log("Error lBDV3: "+e.message);return ""}})()
      ; ob.table            = "note"
   // ; ob.term             = ""
      ; ob.timestamp_posted = new Date().getTime()
      ; ob.use              = (function(){try{ switch(source){case "fciEx":return ( p.detail.loanType                                     );break;case "noteMktPl":return ( p.detail.propertyType                           );break;case "moolahList":return ( p.detail.propertyType || p.list.propertyType                                          );break;default:return "";break;}}catch(e){Logger.log("Error 64IzN: "+e.message);return ""}})()
      ; ob.zip              = (function(){try{ switch(source){case "fciEx":return ( p.list.zip                                            );break;case "noteMktPl":return ( p.detail.zip                                    );break;case "moolahList":return ( ""                                                                                    );break;default:return "";break;}}catch(e){Logger.log("Error Z6a5P: "+e.message);return ""}})()
   // Calculations follow
      ; ob.pctLtvCur        = (function(){try{ return  Math.round(ob.pctLtv *ob.askPrice/ob.balCur) || Math.round(100*ob.askPrice/ob.estValue)}catch(e){Logger.log("Error ymo6h: "+e.message);return ""}})()
      ; ob.pctUpb           = (function(){try{ return                                    ob.pctUpb  || Math.round(100*ob.askPrice/ob.balCur  )}catch(e){Logger.log("Error bon5V: "+e.message);return ""}})()
      ; ob.yieldCur         = (function(){try{ return (Math.round(1000*ob.borRate*ob.balCur/ob.askPrice)) / 1000                              }catch(e){Logger.log("Error K4R0D: "+e.message);return ""}})()
   // ; ob.ytm              = (function(){try{               Complex calculation goes here                                                    }catch(e){Logger.log("Error nx4TR: "+e.message);return ""}})()
	  ;/*Logger.log(JSON.stringify(ob));*/var db=ScriptDb.getMyDb(),id=db.save(ob).getId(),r=db.load(id);r.item=LibraryjsUtil.toBase62(Number(id.slice(1)));db.save(r);/*Logger.log(JSON.stringify(r));*/return;}
// --------------------------- Serve Outside GAS ---------------------------
function serveSellers(){var ob=[],arr=[],i,j,k,r,t=[],zil=[],user=Session.getUser().getEmail(),out={"totalResultsCount":0,"records":[]},db=ScriptDb.getMyDb(),q={table:"note",remove:false};if(user!="atlaslive@gmail.com"){q.seller=user}var results=db.query(q);while(results.hasNext()){r=results.next();i=out.totalResultsCount++;
    try{out.records[i]={db_id:LibraryjsUtil.rc4Encrypt("DktaE",r.getId())}}catch(e){Logger.log("Error BDhqq: "+e.message)}try{var currentBids=LibraryjsUtil.getCurrentBids(r.bids)||[],m=0;}catch(e){Logger.log("Error Fr10a: "+e.message)}try{m=currentBids.length}catch(e){Logger.log("Error lum87: "+e.message)}while(m--){currentBids[m].bidder=LibraryjsUtil.rc4Encrypt("WnJ9n",currentBids[m].bidder);currentBids[m].target_id=LibraryjsUtil.rc4Encrypt("vDMm0",currentBids[m].target_id);}var currentBidsLength=(currentBids)?currentBids.length:0;
	ob[i] = {
		"nolink"                         : {
                "accepted"               : function(){try{return                 r.accepted                                              }catch(e){Logger.log("Error BJrJb: "+e.message);return "";}}() //
            ,   "arv"                    : function(){try{return                 r.arv                                                   }catch(e){Logger.log("Error qEpyI: "+e.message);return "";}}() //
            ,   "askRate"                : function(){try{return                 r.askRate                                               }catch(e){Logger.log("Error XY3SN: "+e.message);return "";}}() //
            ,   "askPrice"               : function(){try{return                 r.askPrice                                              }catch(e){Logger.log("Error BbYOH: "+e.message);return "";}}() //
            ,   "baths"                  : function(){try{return                 r.baths                                                 }catch(e){Logger.log("Error iyWpu: "+e.message);return "";}}() //
            ,   "bidCount"               :                                         currentBidsLength
            ,   "bids"                   :                                         currentBids
            ,   "beds"                   : function(){try{return                 r.beds                                                  }catch(e){Logger.log("Error LuskC: "+e.message);return "";}}() //
            ,   "borRate"                : function(){try{return                 r.borRate                                               }catch(e){Logger.log("Error JLSLy: "+e.message);return "";}}() //
            ,   "borPts"                 : function(){try{return                 r.borPts                                                }catch(e){Logger.log("Error A8eEm: "+e.message);return "";}}() //
            ,   "city"                   : function(){try{return                 r.city                                                  }catch(e){Logger.log("Error xLGcf: "+e.message);return "";}}() //
            ,   "estMethod"              : function(){try{return                 r.estMethod                                             }catch(e){Logger.log("Error pVPll: "+e.message);return "";}}() //
            ,   "estValue"               : function(){try{return                 r.estValue                                              }catch(e){Logger.log("Error Dmg6z: "+e.message);return "";}}() //
            ,   "exit"                   : function(){try{return                 r.exit                                                  }catch(e){Logger.log("Error DjKI9: "+e.message);return "";}}() //
            ,   "fileDoc"                : function(){try{return                 r.fileDoc                                               }catch(e){Logger.log("Error nezPL: "+e.message);return "";}}() //
            ,   "filePic"                : function(){try{return                 r.filePic                                               }catch(e){Logger.log("Error B3b29: "+e.message);return "";}}() //
            ,   "item"                   : function(){try{return                 r.item                                                  }catch(e){Logger.log("Error 5hpm9: "+e.message);return "";}}() //
            ,   "notes"                  : function(){try{return                 r.notes                                                 }catch(e){Logger.log("Error 2x3QK: "+e.message);return "";}}() //
            ,   "payBad"                 : function(){try{return                 r.payBad                                                }catch(e){Logger.log("Error Vjx8Z: "+e.message);return "";}}() //
            ,   "payGood"                : function(){try{return                 r.payGood                                               }catch(e){Logger.log("Error HoQPl: "+e.message);return "";}}() //
            ,   "pctLtv"                 : function(){try{return                 r.pctLtv                                                }catch(e){Logger.log("Error VfbpT: "+e.message);return "";}}() //
            ,   "purpose"                : function(){try{return                 r.purpose                                               }catch(e){Logger.log("Error kmACu: "+e.message);return "";}}() //
            ,   "purPrice"               : function(){try{return                 r.purPrice                                              }catch(e){Logger.log("Error tXdxn: "+e.message);return "";}}() //
			,   "remove"                 : function(){try{return                 r.remove                                                }catch(e){Logger.log("Error wGy6P: "+e.message);return "";}}() //					   
            ,   "rent"                   : function(){try{return                 r.rent                                                  }catch(e){Logger.log("Error 8pAi5: "+e.message);return "";}}() //
            ,   "sa"                     : function(){try{return                 r.sa                                                    }catch(e){Logger.log("Error unh8c: "+e.message);return "";}}() //
            ,   "schedRE"                : function(){try{return                 r.schedRE                                               }catch(e){Logger.log("Error 8cItd: "+e.message);return "";}}() //
         // ,   "sellCarry"              : function(){try{return                 r.sellCarry                                             }catch(e){Logger.log("Error 2jqDq: "+e.message);return "";}}() //
            ,   "sqft"                   : function(){try{return                 r.sqft                                                  }catch(e){Logger.log("Error NbtEx: "+e.message);return "";}}() //
            ,   "sqftLot"                : function(){try{return                 r.sqftLot                                               }catch(e){Logger.log("Error XILuW: "+e.message);return "";}}() //
            ,   "state"                  : function(){try{return                 r.state                                                 }catch(e){Logger.log("Error bp1Y9: "+e.message);return "";}}() //
            ,   "term"                   : function(){try{return                 r.term                                                  }catch(e){Logger.log("Error lLMzH: "+e.message);return "";}}() //
            ,   "use"                    : function(){try{return                 r.use                                                   }catch(e){Logger.log("Error QC8lk: "+e.message);return "";}}() //
            ,   "zip"                    : function(){try{return                 r.zip                                                   }catch(e){Logger.log("Error kPZtm: "+e.message);return "";}}() //
                                         // Below added from "comprehensive" form
            ,   "balBeg"                 : function(){try{return                 r.balBeg                                                }catch(e){Logger.log("Error hUgqK: "+e.message);return "";}}() //
            ,   "balCur"                 : function(){try{return                 r.balCur                                                }catch(e){Logger.log("Error T20mK: "+e.message);return "";}}() //
            ,   "balloon"                : function(){try{return                 r.balloon                                               }catch(e){Logger.log("Error Gu3BG: "+e.message);return "";}}() //
            ,   "ballAmt"                : function(){try{return                 r.ballAmt                                               }catch(e){Logger.log("Error EtGlv: "+e.message);return "";}}() //
            ,   "dateMaturity_day"       : function(){try{return                 r.dateMaturity_day                                      }catch(e){Logger.log("Error k8sgQ: "+e.message);return "";}}() //
            ,   "dateMaturity_mo"        : function(){try{return                 r.dateMaturity_mo                                       }catch(e){Logger.log("Error ZvK5p: "+e.message);return "";}}() //
            ,   "dateMaturity_yr"        : function(){try{return                 r.dateMaturity_yr                                       }catch(e){Logger.log("Error 78IS5: "+e.message);return "";}}() //
            ,   "dateOrig_day"           : function(){try{return                 r.dateOrig_day                                          }catch(e){Logger.log("Error wgi3D: "+e.message);return "";}}() //
            ,   "dateOrig_mo"            : function(){try{return                 r.dateOrig_mo                                           }catch(e){Logger.log("Error umJ5V: "+e.message);return "";}}() //
            ,   "dateOrig_yr"            : function(){try{return                 r.dateOrig_yr                                           }catch(e){Logger.log("Error 4SzNU: "+e.message);return "";}}() //
            ,   "datePaidTo_day"         : function(){try{return                 r.datePaidTo_day                                        }catch(e){Logger.log("Error 3t6gE: "+e.message);return "";}}() //
            ,   "datePaidTo_mo"          : function(){try{return                 r.datePaidTo_mo                                         }catch(e){Logger.log("Error oI3d7: "+e.message);return "";}}() //
            ,   "datePaidTo_yr"          : function(){try{return                 r.datePaidTo_yr                                         }catch(e){Logger.log("Error aW7iI: "+e.message);return "";}}() //
            ,   "doc_appraisal"          : function(){try{return                 r.doc_appraisal                                         }catch(e){Logger.log("Error lM8Rh: "+e.message);return "";}}() //
            ,   "doc_closing"            : function(){try{return                 r.doc_closing                                           }catch(e){Logger.log("Error RPjQ4: "+e.message);return "";}}() //
            ,   "doc_hazard"             : function(){try{return                 r.doc_hazard                                            }catch(e){Logger.log("Error beDcp: "+e.message);return "";}}() //
            ,   "doc_note"               : function(){try{return                 r.doc_note                                              }catch(e){Logger.log("Error OdOtT: "+e.message);return "";}}() //
            ,   "doc_pics"               : function(){try{return                 r.doc_pics                                              }catch(e){Logger.log("Error kcR84: "+e.message);return "";}}() //
            ,   "doc_pmts"               : function(){try{return                 r.doc_pmts                                              }catch(e){Logger.log("Error UtVlc: "+e.message);return "";}}() //
            ,   "doc_title"              : function(){try{return                 r.doc_title                                             }catch(e){Logger.log("Error XqmY9: "+e.message);return "";}}() //
            ,   "downPmt"                : function(){try{return                 r.downPmt                                               }catch(e){Logger.log("Error dbdi6: "+e.message);return "";}}() //
            ,   "lienPos"                : function(){try{return                 r.lienPos                                               }catch(e){Logger.log("Error ZeQtV: "+e.message);return "";}}() //
            ,   "loanStatus"             : function(){try{return                 r.loanStatus                                            }catch(e){Logger.log("Error R4vCp: "+e.message);return "";}}() //
            ,   "nextDue_day"            : function(){try{return                 r.nextDue_day                                           }catch(e){Logger.log("Error VlULN: "+e.message);return "";}}() //
            ,   "nextDue_mo"             : function(){try{return                 r.nextDue_mo                                            }catch(e){Logger.log("Error u5t9E: "+e.message);return "";}}() //
            ,   "nextDue_yr"             : function(){try{return                 r.nextDue_yr                                            }catch(e){Logger.log("Error v0AQd: "+e.message);return "";}}() //
            ,   "occ"                    : function(){try{return                 r.occ                                                   }catch(e){Logger.log("Error VXTKH: "+e.message);return "";}}() //
            ,   "pmtAmt"                 : function(){try{return                 r.pmtAmt                                                }catch(e){Logger.log("Error DVOz2: "+e.message);return "";}}() //
            ,   "pmtsLeft"               : function(){try{return                 r.pmtsLeft                                              }catch(e){Logger.log("Error jxMGp: "+e.message);return "";}}() //
            ,   "pmtsRecd"               : function(){try{return                 r.pmtsRecd                                              }catch(e){Logger.log("Error 6iRdj: "+e.message);return "";}}() //
                                           }
     /* ,   "link"                       : {
			,	"link_boa"               : function(){try{return  /*ok* /        r.link.boa                                              }catch(e){Logger.log("Error SCgK1: "+e.message);return "";}}() //
			,	"link_chase"             : function(){try{return  /*ok* /        r.link.chase                                            }catch(e){Logger.log("Error MqQEZ: "+e.message);return "";}}() //
            ,	"link_eppraisal"         : function(){try{return  /*L1* /        r.avm.dataset.eppraisal.link                            }catch(e){Logger.log("Error u7F2J: "+e.message);return "";}}() // Errors: L1 local; L2 site suspected; L3 site confirmed; OK works; ok works but must copy/paste address
				"link_googleMap"         : function(){try{return  /*OK* /        r.link.gmap                                             }catch(e){Logger.log("Error XqSd4: "+e.message);return "";}}() //
			,	"link_homeGain"          : function(){try{return  /*L3* /        r.avm.dataset.homeGain.link                             }catch(e){Logger.log("Error XqSd4: "+e.message);return "";}}() //
			,	"link_homesCom"          : function(){try{return  /*ok* /        r.link.homesCom                                         }catch(e){Logger.log("Error KmlFz: "+e.message);return "";}}() //
			,	"link_neighborhoodScout" : function(){try{return  /*ok* /        r.link.neighborhoodScout                                }catch(e){Logger.log("Error A9rGd: "+e.message);return "";}}() //
			,	"link_propertyShark"     : function(){try{return  /*ok* /        r.link.propertyShark                                    }catch(e){Logger.log("Error tAFdc: "+e.message);return "";}}() //
			,	"link_realEstate"        : function(){try{return  /*OK* /        r.avm.dataset.realEstate.link                           }catch(e){Logger.log("Error kxgjs: "+e.message);return "";}}() //
			,	"link_realtor"           : function(){try{return  /*OK* /        r.avm.dataset.realtor.link                              }catch(e){Logger.log("Error guA6g: "+e.message);return "";}}() //
			,	"link_trulia"            : function(){try{return  /*OK* /        r.avm.dataset.trulia.link                               }catch(e){Logger.log("Error dpR2i: "+e.message);return "";}}() //
			,	"link_yahoo"             : function(){try{return  /*OK* /        r.link.yahoo	   				                         }catch(e){Logger.log("Error 5nBQT: "+e.message);return "";}}() //
			,	"link_zillow"            : function(){try{return  /*OK* /        r.link.zillow                                           }catch(e){Logger.log("Error eqDM0: "+e.message);return "";}}() //
			,	"link_zillowdetails"     : function(){try{return  /*OK* /        zil[i].links.homedetails.Text                           }catch(e){Logger.log("Error boXfk: "+e.message);return "";}}() //
			,	"link_zipRealty"         : function(){try{return                 ""                                                      }catch(e){Logger.log("Error 9IGmd: "+e.message);return "";}}() //            
			,	"link_zipSkinny"         : function(){try{return  /*ok* /        r.link.zipSkinny                                        }catch(e){Logger.log("Error CsFnp: "+e.message);return "";}}() //
										   } */
	} // db_id MyBid // arv rep cof com city state zip sa useCode beds baths sf sf_round lot lot_round yearBuilt taxVal taxVal_round lastSoldPrice lastSoldPrice_round lastSoldYear taxAmt taxAmt_round ask ask_round autoEst autoEst_round sdPct popCount rent rent_round ratio grm ia ia_round psf avmStatSet // link_googleMap link_yahoo link_zillow link_zillowdetails link_eppraisal link_realtor link_realEstate link_homeGain link_trulia link_propertyShark link_neighborhoodScout link_zipSkinny link_chase link_boa link_homesCom
	var keys=Object.keys(ob[i].nolink),z=keys.length;while(z--){out.records[i][keys[z]]=              ob[i].nolink[keys[z]]                                   }
     // keys=Object.keys(ob[i].  link),z=keys.length;while(z--){out.records[i][keys[z]]='<a href="' + ob[i].  link[keys[z]] + '" target="_blank">&#10151;</a>'}Logger.log(JSON.stringify(out.records[i]));
	}return out;}
function serveBuyers(){var out=[],r,ob=LibraryjsUtil.str2obj((LibraryjsUtil.doc2str("1WKKhUdq9DXbVQMs14yqKcISLflgi1D0wTD24Dz0Lq00"))),ar=LibraryjsUtil.portfolioObj2arr(ob.data),i=ar.length;while(i--){r=ar[i];
	out.push({
                "ask"                    : function(){try{return    (r.ask==r.ask*1) ? r.ask : r.balCur                                  }catch(e){Logger.log("Error yRAyQ: "+e.message);return "";}}() //
        //  ,   "askF"                   : function(){try{return LibraryjsUtil.num2cur(r.ask    ,0,"$","") || ""                         }catch(e){Logger.log("Error yRAyQ: "+e.message);return "";}}() // Formatting was failed attempt at FuelUX Repeater implementation
            ,   "balBeg"                 : function(){try{return                       r.balBeg                                          }catch(e){Logger.log("Error 5HyYI: "+e.message);return "";}}() //
        //  ,   "balBegF"                : function(){try{return LibraryjsUtil.num2cur(r.balBeg ,0,"$","") || ""                         }catch(e){Logger.log("Error 5HyYI: "+e.message);return "";}}() //
            ,   "balCur"                 : function(){try{return                       r.balCur                                          }catch(e){Logger.log("Error 5HyYI: "+e.message);return "";}}() //
        //  ,   "balCurF"                : function(){try{return LibraryjsUtil.num2cur(r.balCur ,0,"$","") || ""                         }catch(e){Logger.log("Error 5HyYI: "+e.message);return "";}}() //
            ,   "city"                   : function(){try{return                       r.city                                            }catch(e){Logger.log("Error SUbA2: "+e.message);return "";}}() //
            ,   "lienPos"                : function(){try{return                       r.lienPos                                         }catch(e){Logger.log("Error 5HyYI: "+e.message);return "";}}() //
            ,   "loanStatus"             : function(){try{return                       r.loanStatus                                      }catch(e){Logger.log("Error 5HyYI: "+e.message);return "";}}() //
            ,   "pctUpb"                 : function(){try{return         ( r.pctUpb == r.pctUpb * 1 ) ? r.pctUpb : 100                   }catch(e){Logger.log("Error 5HyYI: "+e.message);return "";}}() //
            ,   "rateNote"               : function(){try{return                       r.rateNote                                        }catch(e){Logger.log("Error 5HyYI: "+e.message);return "";}}() //
            ,   "state"                  : function(){try{return                       r.state                                           }catch(e){Logger.log("Error ljckt: "+e.message);return "";}}() //
            ,   "yieldCur"               : function(){try{return      (100*r.rateNote/((r.pctUpb==r.pctUpb*1)?r.pctUpb:100)).toFixed(2)  }catch(e){Logger.log("Error ljckt: "+e.message);return "";}}() //
        /* Not yet implemented    
            ,   "arv"                    : function(){try{return                 r.arv                                                   }catch(e){Logger.log("Error 0kR70: "+e.message);return "";}}() //
            ,   "askRate"                : function(){try{return                 r.askRate                                               }catch(e){Logger.log("Error 742Ho: "+e.message);return "";}}() //
            ,   "baths"                  : function(){try{return                 r.baths                                                 }catch(e){Logger.log("Error 4zKoo: "+e.message);return "";}}() //
            ,   "beds"                   : function(){try{return                 r.beds                                                  }catch(e){Logger.log("Error qAPG7: "+e.message);return "";}}() //
        //  ,   "bidPrice"               :                                         bidPrice
        //  ,   "bidRate"                :                                         bidRate
        //  ,   "bidTime"                :                                         bidTime
            ,   "borPts"                 : function(){try{return                 r.borPts                                                }catch(e){Logger.log("Error uuT8p: "+e.message);return "";}}() //
            ,   "borRate"                : function(){try{return                 r.borRate                                               }catch(e){Logger.log("Error 0dkMZ: "+e.message);return "";}}() //
            ,   "estValue"               : function(){try{return                 r.estValue                                              }catch(e){Logger.log("Error vvsvJ: "+e.message);return "";}}() //
            ,   "estMethod"              : function(){try{return                 r.estMethod                                             }catch(e){Logger.log("Error 5aTX1: "+e.message);return "";}}() //
			,   "exit"                   : function(){try{return                 r.exit                                                  }catch(e){Logger.log("Error vuQlW: "+e.message);return "";}}() //
            ,   "filePic"                : function(){try{return                 r.filePic                                               }catch(e){Logger.log("Error 3aGMP: "+e.message);return "";}}() //
            ,   "fileDoc"                : function(){try{return                 r.fileDoc                                               }catch(e){Logger.log("Error KelFd: "+e.message);return "";}}() //
            ,   "item"                   : function(){try{return                 r.item                                                  }catch(e){Logger.log("Error WWwZS: "+e.message);return "";}}() //
            ,   "notes"                  : function(){try{return                 r.notes                                                 }catch(e){Logger.log("Error LJ2Ji: "+e.message);return "";}}() //
            ,   "payBad"                 : function(){try{return                 r.payBad                                                }catch(e){Logger.log("Error 2KNwa: "+e.message);return "";}}() //
            ,   "payGood"                : function(){try{return                 r.payGood                                               }catch(e){Logger.log("Error mAIv8: "+e.message);return "";}}() //
            ,   "purPrice"               : function(){try{return                 r.purPrice                                              }catch(e){Logger.log("Error y28d6: "+e.message);return "";}}() //
            ,   "pctLtv"                 : function(){try{return                 r.pctLtv                                                }catch(e){Logger.log("Error aCV5h: "+e.message);return "";}}() //
            ,   "pctLtvCur"              : function(){try{return                 r.pctLtvCur                                             }catch(e){Logger.log("Error DIzg5: "+e.message);return "";}}() //
            ,   "pctUpb"                 : function(){try{return                 r.pctUpb                                                }catch(e){Logger.log("Error v9ABL: "+e.message);return "";}}() //
            ,   "rent"                   : function(){try{return                 r.rent                                                  }catch(e){Logger.log("Error 3Q3mf: "+e.message);return "";}}() //
            ,   "sa"                     : function(){try{return                 r.sa                                                    }catch(e){Logger.log("Error yJ4Ld: "+e.message);return "";}}() //
            ,   "schedRE"                : function(){try{return                 r.schedRE                                               }catch(e){Logger.log("Error ZmwlY: "+e.message);return "";}}() //
         // ,   "sellCarry"              : function(){try{return                 r.sellCarry                                             }catch(e){Logger.log("Error HPfzp: "+e.message);return "";}}() //
            ,   "term"                   : function(){try{return                 r.term                                                  }catch(e){Logger.log("Error qVFj6: "+e.message);return "";}}() //
            ,   "use"                    : function(){try{return                 r.use                                                   }catch(e){Logger.log("Error lvWPA: "+e.message);return "";}}() //
            ,   "sqft"                   : function(){try{return                 r.sqft                                                  }catch(e){Logger.log("Error PLhJh: "+e.message);return "";}}() //
            ,   "sqftLot"                : function(){try{return                 r.sqftLot                                               }catch(e){Logger.log("Error B1JSW: "+e.message);return "";}}() //
            ,   "yieldCur"               : function(){try{return                 r.yieldCur                                              }catch(e){Logger.log("Error wWXwH: "+e.message);return "";}}() //
        //  ,   "ytm"                    : function(){try{return                 r.ytm                                                   }catch(e){Logger.log("Error USixk: "+e.message);return "";}}() //
            ,   "zip"                    : function(){try{return                 r.zip                                                   }catch(e){Logger.log("Error C3Agp: "+e.message);return "";}}() //
        /*  Below added from "comprehensive" form
            ,   "purpose"                : function(){try{return                 r.purpose                                               }catch(e){Logger.log("Error vUVKq: "+e.message);return "";}}() //
            ,   "balBeg"                 : function(){try{return                 r.balBeg                                                }catch(e){Logger.log("Error 8Z3u2: "+e.message);return "";}}() //
            ,   "balCur"                 : function(){try{return                 r.balCur                                                }catch(e){Logger.log("Error yikFu: "+e.message);return "";}}() //
            ,   "ballAmt"                : function(){try{return                 r.ballAmt                                               }catch(e){Logger.log("Error IWozK: "+e.message);return "";}}() //
            ,   "balloon"                : function(){try{return                 r.balloon                                               }catch(e){Logger.log("Error CnjWT: "+e.message);return "";}}() //
            ,   "dateOrig_mo"            : function(){try{return                 r.dateOrig_mo                                           }catch(e){Logger.log("Error ibLvh: "+e.message);return "";}}() //
            ,   "dateOrig_day"           : function(){try{return                 r.dateOrig_day                                          }catch(e){Logger.log("Error hQyCX: "+e.message);return "";}}() //
            ,   "dateOrig_yr"            : function(){try{return                 r.dateOrig_yr                                           }catch(e){Logger.log("Error WQ0OE: "+e.message);return "";}}() //
            ,   "datePaidTo"             : function(){try{return                 r.datePaidTo                                            }catch(e){Logger.log("Error Uj7Op: "+e.message);return "";}}() //
            ,   "dateMaturity"           : function(){try{return                 r.dateMaturity                                          }catch(e){Logger.log("Error RWkOW: "+e.message);return "";}}() //
            ,   "doc_appraisal"          : function(){try{return                 r.doc_appraisal                                         }catch(e){Logger.log("Error yU2J6: "+e.message);return "";}}() //
            ,   "doc_closing"            : function(){try{return                 r.doc_closing                                           }catch(e){Logger.log("Error tW7O4: "+e.message);return "";}}() //
            ,   "doc_hazard"             : function(){try{return                 r.doc_hazard                                            }catch(e){Logger.log("Error dVVZI: "+e.message);return "";}}() //
            ,   "doc_note"               : function(){try{return                 r.doc_note                                              }catch(e){Logger.log("Error TD1WW: "+e.message);return "";}}() //
            ,   "doc_pics"               : function(){try{return                 r.doc_pics                                              }catch(e){Logger.log("Error z5Qc2: "+e.message);return "";}}() //
            ,   "doc_pmts"               : function(){try{return                 r.doc_pmts                                              }catch(e){Logger.log("Error dvy7J: "+e.message);return "";}}() //
            ,   "doc_title"              : function(){try{return                 r.doc_title                                             }catch(e){Logger.log("Error EGC0J: "+e.message);return "";}}() //
            ,   "downPmt"                : function(){try{return                 r.downPmt                                               }catch(e){Logger.log("Error O2cuy: "+e.message);return "";}}() //
            ,   "lienPos"                : function(){try{return                 r.lienPos                                               }catch(e){Logger.log("Error O3FV4: "+e.message);return "";}}() //
            ,   "loanStatus"             : function(){try{return                 r.loanStatus                                            }catch(e){Logger.log("Error dNB1K: "+e.message);return "";}}() //
            ,   "nextDue"                : function(){try{return                 r.nextDue                                               }catch(e){Logger.log("Error 3mqXN: "+e.message);return "";}}() //
            ,   "occ"                    : function(){try{return                 r.occ                                                   }catch(e){Logger.log("Error Wv53u: "+e.message);return "";}}() //
            ,   "pmtAmt"                 : function(){try{return                 r.pmtAmt                                                }catch(e){Logger.log("Error ja3Oe: "+e.message);return "";}}() //
            ,   "pmtsLeft"               : function(){try{return                 r.pmtsLeft                                              }catch(e){Logger.log("Error YrLFV: "+e.message);return "";}}() //
            ,   "pmtsRecd"               : function(){try{return                 r.pmtsRecd                                              }catch(e){Logger.log("Error PtIqd: "+e.message);return "";}}() //
		*/  })}return out}
function serveBuyers1(){var ob=[],arr=[],i,j,k,r,t=[],zil=[],bidRate="",bidPrice="",bidTime=0,user=Session.getUser().getEmail(),out={"totalResultsCount":0,"records":[]},db=ScriptDb.getMyDb(),results=db.query({table:"note",remove:false,accepted:false});while(results.hasNext()){r=results.next();i=out.totalResultsCount++;bidRate="";bidPrice="";bidTime=0;
	try{out.records[i]={db_id:LibraryjsUtil.rc4Encrypt("DktaE",r.getId())};}catch(e){Logger.log("Error WZ6bM: "+e.message)};try{j=r.bids.length;while(j--){if(r.bids[j].bidder==user&&(r.bids[j].timestamp>bidTime)){bidRate=r.bids[j].rate;bidPrice=r.bids[j].points;bidTime=r.bids[j].timestamp;break;}}}catch(e){Logger.log("Error rRblA: "+e.message);} // try{if(r.bids){arr[i]=r.bids;j=arr[i].length;while(j--){t[j]=0;if(arr[i][j].bidder==user&&(arr[i][j].time>t[j])/*&&(!arr[i][j].confirmed)*/){t[j]=arr[i][j].time;out.records[i].MyBid=arr[i][j].balCur}}             }}catch(e){Logger.log("Error soF2q: "+e.message)}; // "MyBid"
	ob[i] = { //vol={SFR:1246,Other:298,CRE:269,X:101,MUL:52,Land:32,Date:new Date().setFullYear(2014,1,1),Sources:["fciEx","NoteMktPl","moolahList"]}
		"nolink"                         : {
                "amount"                 : function(){try{return                 r.balCur                                                }catch(e){Logger.log("Error 5HyYI: "+e.message);return "";}}() //
            ,   "arv"                    : function(){try{return                 r.arv                                                   }catch(e){Logger.log("Error 0kR70: "+e.message);return "";}}() //
            ,   "askPrice"               : function(){try{return                 r.askPrice                                              }catch(e){Logger.log("Error yRAyQ: "+e.message);return "";}}() //
            ,   "askRate"                : function(){try{return                 r.askRate                                               }catch(e){Logger.log("Error 742Ho: "+e.message);return "";}}() //
            ,   "baths"                  : function(){try{return                 r.baths                                                 }catch(e){Logger.log("Error 4zKoo: "+e.message);return "";}}() //
            ,   "beds"                   : function(){try{return                 r.beds                                                  }catch(e){Logger.log("Error qAPG7: "+e.message);return "";}}() //
            ,   "bidPrice"               :                                         bidPrice
            ,   "bidRate"                :                                         bidRate
            ,   "bidTime"                :                                         bidTime
            ,   "borPts"                 : function(){try{return                 r.borPts                                                }catch(e){Logger.log("Error uuT8p: "+e.message);return "";}}() //
            ,   "borRate"                : function(){try{return                 r.borRate                                               }catch(e){Logger.log("Error 0dkMZ: "+e.message);return "";}}() //
            ,   "city"                   : function(){try{return                 r.city                                                  }catch(e){Logger.log("Error SUbA2: "+e.message);return "";}}() //
            ,   "estValue"               : function(){try{return                 r.estValue                                              }catch(e){Logger.log("Error vvsvJ: "+e.message);return "";}}() //
            ,   "estMethod"              : function(){try{return                 r.estMethod                                             }catch(e){Logger.log("Error 5aTX1: "+e.message);return "";}}() //
            ,   "exit"                   : function(){try{return                 r.exit                                                  }catch(e){Logger.log("Error vuQlW: "+e.message);return "";}}() //
            ,   "filePic"                : function(){try{return                 r.filePic                                               }catch(e){Logger.log("Error 3aGMP: "+e.message);return "";}}() //
            ,   "fileDoc"                : function(){try{return                 r.fileDoc                                               }catch(e){Logger.log("Error KelFd: "+e.message);return "";}}() //
            ,   "item"                   : function(){try{return                 r.item                                                  }catch(e){Logger.log("Error WWwZS: "+e.message);return "";}}() //
            ,   "notes"                  : function(){try{return                 r.notes                                                 }catch(e){Logger.log("Error LJ2Ji: "+e.message);return "";}}() //
            ,   "payBad"                 : function(){try{return                 r.payBad                                                }catch(e){Logger.log("Error 2KNwa: "+e.message);return "";}}() //
            ,   "payGood"                : function(){try{return                 r.payGood                                               }catch(e){Logger.log("Error mAIv8: "+e.message);return "";}}() //
            ,   "purPrice"               : function(){try{return                 r.purPrice                                              }catch(e){Logger.log("Error y28d6: "+e.message);return "";}}() //
            ,   "pctLtv"                 : function(){try{return                 r.pctLtv                                                }catch(e){Logger.log("Error aCV5h: "+e.message);return "";}}() //
            ,   "pctLtvCur"              : function(){try{return                 r.pctLtvCur                                             }catch(e){Logger.log("Error DIzg5: "+e.message);return "";}}() //
            ,   "pctUpb"                 : function(){try{return                 r.pctUpb                                                }catch(e){Logger.log("Error v9ABL: "+e.message);return "";}}() //
            ,   "rent"                   : function(){try{return                 r.rent                                                  }catch(e){Logger.log("Error 3Q3mf: "+e.message);return "";}}() //
            ,   "sa"                     : function(){try{return                 r.sa                                                    }catch(e){Logger.log("Error yJ4Ld: "+e.message);return "";}}() //
            ,   "schedRE"                : function(){try{return                 r.schedRE                                               }catch(e){Logger.log("Error ZmwlY: "+e.message);return "";}}() //
         // ,   "sellCarry"              : function(){try{return                 r.sellCarry                                             }catch(e){Logger.log("Error HPfzp: "+e.message);return "";}}() //
            ,   "state"                  : function(){try{return                 r.state                                                 }catch(e){Logger.log("Error ljckt: "+e.message);return "";}}() //
            ,   "term"                   : function(){try{return                 r.term                                                  }catch(e){Logger.log("Error qVFj6: "+e.message);return "";}}() //
            ,   "use"                    : function(){try{return                 r.use                                                   }catch(e){Logger.log("Error lvWPA: "+e.message);return "";}}() //
            ,   "sqft"                   : function(){try{return                 r.sqft                                                  }catch(e){Logger.log("Error PLhJh: "+e.message);return "";}}() //
            ,   "sqftLot"                : function(){try{return                 r.sqftLot                                               }catch(e){Logger.log("Error B1JSW: "+e.message);return "";}}() //
            ,   "yieldCur"               : function(){try{return                 r.yieldCur                                              }catch(e){Logger.log("Error wWXwH: "+e.message);return "";}}() //
        //  ,   "ytm"                    : function(){try{return                 r.ytm                                                   }catch(e){Logger.log("Error USixk: "+e.message);return "";}}() //
            ,   "zip"                    : function(){try{return                 r.zip                                                   }catch(e){Logger.log("Error C3Agp: "+e.message);return "";}}() //
        //  Below added from "comprehensive" form
            ,   "purpose"                : function(){try{return                 r.purpose                                               }catch(e){Logger.log("Error vUVKq: "+e.message);return "";}}() //
            ,   "balBeg"                 : function(){try{return                 r.balBeg                                                }catch(e){Logger.log("Error 8Z3u2: "+e.message);return "";}}() //
            ,   "balCur"                 : function(){try{return                 r.balCur                                                }catch(e){Logger.log("Error yikFu: "+e.message);return "";}}() //
            ,   "ballAmt"                : function(){try{return                 r.ballAmt                                               }catch(e){Logger.log("Error IWozK: "+e.message);return "";}}() //
            ,   "balloon"                : function(){try{return                 r.balloon                                               }catch(e){Logger.log("Error CnjWT: "+e.message);return "";}}() //
            ,   "dateOrig_mo"            : function(){try{return                 r.dateOrig_mo                                           }catch(e){Logger.log("Error ibLvh: "+e.message);return "";}}() //
            ,   "dateOrig_day"           : function(){try{return                 r.dateOrig_day                                          }catch(e){Logger.log("Error hQyCX: "+e.message);return "";}}() //
            ,   "dateOrig_yr"            : function(){try{return                 r.dateOrig_yr                                           }catch(e){Logger.log("Error WQ0OE: "+e.message);return "";}}() //
            ,   "datePaidTo"             : function(){try{return                 r.datePaidTo                                            }catch(e){Logger.log("Error Uj7Op: "+e.message);return "";}}() //
            ,   "dateMaturity"           : function(){try{return                 r.dateMaturity                                          }catch(e){Logger.log("Error RWkOW: "+e.message);return "";}}() //
            ,   "doc_appraisal"          : function(){try{return                 r.doc_appraisal                                         }catch(e){Logger.log("Error yU2J6: "+e.message);return "";}}() //
            ,   "doc_closing"            : function(){try{return                 r.doc_closing                                           }catch(e){Logger.log("Error tW7O4: "+e.message);return "";}}() //
            ,   "doc_hazard"             : function(){try{return                 r.doc_hazard                                            }catch(e){Logger.log("Error dVVZI: "+e.message);return "";}}() //
            ,   "doc_note"               : function(){try{return                 r.doc_note                                              }catch(e){Logger.log("Error TD1WW: "+e.message);return "";}}() //
            ,   "doc_pics"               : function(){try{return                 r.doc_pics                                              }catch(e){Logger.log("Error z5Qc2: "+e.message);return "";}}() //
            ,   "doc_pmts"               : function(){try{return                 r.doc_pmts                                              }catch(e){Logger.log("Error dvy7J: "+e.message);return "";}}() //
            ,   "doc_title"              : function(){try{return                 r.doc_title                                             }catch(e){Logger.log("Error EGC0J: "+e.message);return "";}}() //
            ,   "downPmt"                : function(){try{return                 r.downPmt                                               }catch(e){Logger.log("Error O2cuy: "+e.message);return "";}}() //
            ,   "lienPos"                : function(){try{return                 r.lienPos                                               }catch(e){Logger.log("Error O3FV4: "+e.message);return "";}}() //
            ,   "loanStatus"             : function(){try{return                 r.loanStatus                                            }catch(e){Logger.log("Error dNB1K: "+e.message);return "";}}() //
            ,   "nextDue"                : function(){try{return                 r.nextDue                                               }catch(e){Logger.log("Error 3mqXN: "+e.message);return "";}}() //
            ,   "occ"                    : function(){try{return                 r.occ                                                   }catch(e){Logger.log("Error Wv53u: "+e.message);return "";}}() //
            ,   "pmtAmt"                 : function(){try{return                 r.pmtAmt                                                }catch(e){Logger.log("Error ja3Oe: "+e.message);return "";}}() //
            ,   "pmtsLeft"               : function(){try{return                 r.pmtsLeft                                              }catch(e){Logger.log("Error YrLFV: "+e.message);return "";}}() //
            ,   "pmtsRecd"               : function(){try{return                 r.pmtsRecd                                              }catch(e){Logger.log("Error PtIqd: "+e.message);return "";}}() //
										   }
     /* ,   "link"                       : {
				"link_boa"               : function(){try{return  /*ok* /        r.link.boa                                              }catch(e){Logger.log("Error Zd0Y2: "+e.message);return "";}}() //
			,	"link_chase"             : function(){try{return  /*ok* /        r.link.chase                                            }catch(e){Logger.log("Error WMju3: "+e.message);return "";}}() //
            ,	"link_eppraisal"         : function(){try{return  /*L1* /        r.avm.dataset.eppraisal.link                            }catch(e){Logger.log("Error lrEOS: "+e.message);return "";}}() // Errors: L1 local; L2 site suspected; L3 site confirmed; OK works; ok works but must copy/paste address
			,	"link_googleMap"         : function(){try{return  /*OK* /        r.link.gmap                                             }catch(e){Logger.log("Error gtC5Q: "+e.message);return "";}}() //
			,	"link_homeGain"          : function(){try{return  /*L3* /        r.avm.dataset.homeGain.link                             }catch(e){Logger.log("Error paj87: "+e.message);return "";}}() //
			,	"link_homesCom"          : function(){try{return  /*ok* /        r.link.homesCom                                         }catch(e){Logger.log("Error oabbc: "+e.message);return "";}}() //
			,	"link_neighborhoodScout" : function(){try{return  /*ok* /        r.link.neighborhoodScout                                }catch(e){Logger.log("Error Q14RH: "+e.message);return "";}}() //
			,	"link_propertyShark"     : function(){try{return  /*ok* /        r.link.propertyShark                                    }catch(e){Logger.log("Error YRZsy: "+e.message);return "";}}() //
			,	"link_realEstate"        : function(){try{return  /*OK* /        r.avm.dataset.realEstate.link                           }catch(e){Logger.log("Error 0olDz: "+e.message);return "";}}() //
			,	"link_realtor"           : function(){try{return  /*OK* /        r.avm.dataset.realtor.link                              }catch(e){Logger.log("Error mtD5d: "+e.message);return "";}}() //
			,	"link_trulia"            : function(){try{return  /*OK* /        r.avm.dataset.trulia.link                               }catch(e){Logger.log("Error WKlaS: "+e.message);return "";}}() //
			,	"link_yahoo"             : function(){try{return  /*OK* /        r.link.yahoo	   				                         }catch(e){Logger.log("Error 1m0uk: "+e.message);return "";}}() //
			,	"link_zillow"            : function(){try{return  /*OK* /        r.link.zillow                                           }catch(e){Logger.log("Error vL9KJ: "+e.message);return "";}}() //
			,	"link_zillowdetails"     : function(){try{return  /*OK* /        zil[i].links.homedetails.Text                           }catch(e){Logger.log("Error 6Jafy: "+e.message);return "";}}() //
			,	"link_zipRealty"         : function(){try{return                 ""                                                      }catch(e){Logger.log("Error dvNJt: "+e.message);return "";}}() //            
			,	"link_zipSkinny"         : function(){try{return  /*ok* /        r.link.zipSkinny                                        }catch(e){Logger.log("Error d4sTP: "+e.message);return "";}}() //
										   } */
            } // db_id MyBid // arv rep cof com city state zip sa useCode beds baths sf sf_round lot lot_round yearBuilt taxVal taxVal_round lastSoldPrice lastSoldPrice_round lastSoldYear taxAmt taxAmt_round ask ask_round autoEst autoEst_round sdPct popCount rent rent_round ratio grm ia ia_round psf avmStatSet // link_googleMap link_yahoo link_zillow link_zillowdetails link_eppraisal link_realtor link_realEstate link_homeGain link_trulia link_propertyShark link_neighborhoodScout link_zipSkinny link_chase link_boa link_homesCom
	var keys=Object.keys(ob[i].nolink),z=keys.length;while(z--){out.records[i][keys[z]]=              ob[i].nolink[keys[z]]                                   }
     // keys=Object.keys(ob[i].  link),z=keys.length;while(z--){out.records[i][keys[z]]='<a href="' + ob[i].  link[keys[z]] + '" target="_blank">&#10151;</a>'}Logger.log(JSON.stringify(out.records[i]));
	}return out}
function dataTableConstructor(){//var LOAD=["https://sites.google.com/site/itr5k9zw23yzmxuaf5nb399c0ywb98/home/jsLoad.js","googleScripts"];eval(UrlFetchApp.fetch(LOAD[0]).getContentText());var files=load(LOAD[1]);var i=files.length;while(i---1){eval(UrlFetchApp.fetch(files[i]).getContentText())};
    var db=ScriptDb.getMyDb(),d=new Date().getTime(),user=Session.getUser().getEmail(),dt={},i=1,notelink,link,own,r,result;if(user=="atlaslive@gmail.com"||user=="benharvill@gmail.com"){result=db.query({table:"leads"})}else{result=db.query({table:"leads",owner:user/*"jrcamf@gmail.com"*/})}
    dt.cols=[{id:"ID"         ,label:"ID"         ,type:"number"}
            ,{id:"Link"       ,label:"Link"       ,type:"string"}
            ,{id:"Own"        ,label:"Own"        ,type:"string"}
         // ,{id:"Region"     ,label:"Region"     ,type:"string"}
            ,{id:"Pre"        ,label:"Pre"        ,type:"number"}
            ,{id:"E"          ,label:"E"          ,type:"number"}
            ,{id:"Nex"        ,label:"Nex"        ,type:"number"}
            ,{id:"T"          ,label:"T"          ,type:"string"}
            ,{id:"Disposition",label:"Disposition",type:"string"}
            ,{id:"Company"    ,label:"Company"    ,type:"string"}
            ,{id:"Phone"      ,label:"Phone"      ,type:"string"}
            ,{id:"City"       ,label:"City"       ,type:"string"}
            ,{id:"Geo"        ,label:"St"         ,type:"string"}
         // ,{id:"Geo"        ,label:"Geo"        ,type:"string"}
            ,{id:"Notes"      ,label:"Notes"      ,type:"string"}];
    dt.rows=[];while(result.hasNext()){r=result.next();if(r.owner){own=r.owner.slice(0,4)}else{/*continue;*/own="none";}link="<a target='_blank' title='"+r.history+"' href='https://sites.google.com/site/gosalespro/products/mojo?z="+r.getId().rc4Encrypt("IDQfyT21I1").hexEncode()+"'>click</a>";if(r.history){notelink=link+"<span title='"+r.history+"'> "+r.history.slice(0,100)+"</span>"}else{notelink=""}//dt=[['Country code','Population','Density'],['CN',1322970000,137],['IN',1130130000,336],['US',303605941,31],['ID',231627000,117],['BR',186315468,22],['PK',162652500,198],['BD',158665000,1045],['NG',148093000,142],['RU',141933955,8.4],['JP',127790000,339]];//dt=[['Country code','Population','Density'],['CA',36553215,83.85],['TX',23904380,30.75],['NY',19297729,155.18],['FL',18251243,114.43],['IL',12852548,86.27],['PA',12432792,105.8],['OH',11466917,107.05],['MI',10071822,67.55],['GA',9544750,54.59],['NC',9061032,63.8]];
    dt.rows.push({c:[{v:                 i++                                          }     // ID
                    ,{v:                 link                                         }     // Link
                    ,{v:                 own                                          }     // Own
                 // ,{v:               r.regionName                                   }     // Region
                    ,{v:(Math.floor((d-r.latestSubmit)/(1000*60*60*24))||-1)          }     // Pre
                    ,{v:(Math.floor((d-r.latestEmail )/(1000*60*60*24))||-1)          }     // E
                    ,{v:(Math.floor((  r.callback-d  )/(1000*60*60*24))|| 0)          }     // Nex
                    ,{v:               r.temperature                   ||""           }     // Temperature
                    ,{v:               r.disposition                   ||""           }     // Disposition
                    ,{v:               r.name                                         }     // Company
                    ,{v:               r.phone                                        }     // Phone
                    ,{v:               r.city                                         }     // City
                    ,{v:         "US-"+r.state                              ,f:r.state}     // St
                 // ,{v:         "US-"+r.state                                        }     // Geo
                    ,{v:                 notelink                                     }]})} // Notes
    return ContentService.createTextOutput("drawVisualization("+JSON.stringify(dt)+")").setMimeType(ContentService.MimeType.JSON)} // return ContentService.createTextOutput("google.visualization.Query.setResponse({version:'0.6',status:'ok',table:"+JSON.stringify(dt)+"})").setMimeType(ContentService.MimeType.JSON)} // var temp="// Data table response"+"/n"+"google.visualization.Query.setResponse({\"version\":\"0.6\",\"status\":\"ok\",\"sig\":\"1664774139\",\"table\":{\"cols\":[{\"id\":\"A\",\"label\":\"A - Name\",\"type\":\"string\",\"pattern\":\"\"},{\"id\":\"B\",\"label\":\"B - Department\",\"type\":\"string\",\"pattern\":\"\"},{\"id\":\"C\",\"label\":\"C - Country\",\"type\":\"string\",\"pattern\":\"\"},{\"id\":\"D\",\"label\":\"D - Continenet\",\"type\":\"string\",\"pattern\":\"\"},{\"id\":\"E\",\"label\":\"E - Expanes\",\"type\":\"number\",\"pattern\":\"#0.###############\"},{\"id\":\"F\",\"label\":\"Revenue\",\"type\":\"number\",\"pattern\":\"#0.###############\"},{\"id\":\"G\",\"label\":\"G - Adoption\",\"type\":\"number\",\"pattern\":\"#0.###############\"}],\"rows\":[{\"c\":[{\"v\":\"Josh\"},{\"v\":\"Food\"},{\"v\":\"China\"},{\"v\":\"Asia\"},{\"v\":5000.0,\"f\":\"5000\"},{\"v\":12000.0,\"f\":\"12000\"},{\"v\":58.0,\"f\":\"58\"}]},{\"c\":[{\"v\":\"Joe\"},{\"v\":\"Food\"},{\"v\":\"India\"},{\"v\":\"Asia\"},{\"v\":6500.0,\"f\":\"6500\"},{\"v\":52000.0,\"f\":\"52000\"},{\"v\":89.0,\"f\":\"89\"}]},{\"c\":[{\"v\":\"Gili\"},{\"v\":\"Cloths\"},{\"v\":\"United States\"},{\"v\":\"America\"},{\"v\":5900.0,\"f\":\"5900\"},{\"v\":36900.0,\"f\":\"36900\"},{\"v\":97.0,\"f\":\"97\"}]},{\"c\":[{\"v\":\"Peter\"},{\"v\":\"Food\"},{\"v\":\"Indonesia\"},{\"v\":\"Asia\"},{\"v\":2300.0,\"f\":\"2300\"},{\"v\":12000.0,\"f\":\"12000\"},{\"v\":65.0,\"f\":\"65\"}]},{\"c\":[{\"v\":\"Moshes\"},{\"v\":\"Food\"},{\"v\":\"Brazil\"},{\"v\":\"America\"},{\"v\":2980.0,\"f\":\"2980\"},{\"v\":50222.0,\"f\":\"50222\"},{\"v\":59.0,\"f\":\"59\"}]},{\"c\":[{\"v\":\"Gram\"},{\"v\":\"Food\"},{\"v\":\"Pakistan\"},{\"v\":\"Asia\"},{\"v\":2700.0,\"f\":\"2700\"},{\"v\":89777.0,\"f\":\"89777\"},{\"v\":80.0,\"f\":\"80\"}]},{\"c\":[{\"v\":\"Nickol\"},{\"v\":\"Cloths\"},{\"v\":\"Bangladesh\"},{\"v\":\"Asia\"},{\"v\":6500.0,\"f\":\"6500\"},{\"v\":58000.0,\"f\":\"58000\"},{\"v\":89.0,\"f\":\"89\"}]},{\"c\":[{\"v\":\"Avraham\"},{\"v\":\"Food\"},{\"v\":\"Nigeria\"},{\"v\":\"Africa\"},{\"v\":9000.0,\"f\":\"9000\"},{\"v\":32000.0,\"f\":\"32000\"},{\"v\":83.0,\"f\":\"83\"}]},{\"c\":[{\"v\":\"Dani\"},{\"v\":\"Cloths\"},{\"v\":\"Russia\"},{\"v\":\"Asia\"},{\"v\":7000.0,\"f\":\"7000\"},{\"v\":69000.0,\"f\":\"69000\"},{\"v\":87.0,\"f\":\"87\"}]},{\"c\":[{\"v\":\"Mili\"},{\"v\":\"Cloths\"},{\"v\":\"Japan\"},{\"v\":\"Asia\"},{\"v\":3240.0,\"f\":\"3240\"},{\"v\":64000.0,\"f\":\"64000\"},{\"v\":80.0,\"f\":\"80\"}]},{\"c\":[{\"v\":\"Toni\"},{\"v\":\"Food\"},{\"v\":\"England\"},{\"v\":\"Europe\"},{\"v\":2100.0,\"f\":\"2100\"},{\"v\":12000.0,\"f\":\"12000\"},{\"v\":95.0,\"f\":\"95\"}]},{\"c\":[{\"v\":\"Bill\"},{\"v\":\"Food\"},{\"v\":\"Franch\"},{\"v\":\"Europe\"},{\"v\":0.0,\"f\":\"0\"},{\"v\":98000.0,\"f\":\"98000\"},{\"v\":45.0,\"f\":\"45\"}]},{\"c\":[{\"v\":\"Tivoli\"},{\"v\":\"Food\"},{\"v\":\"Sudan\"},{\"v\":\"Africa\"},{\"v\":3290.0,\"f\":\"3290\"},{\"v\":18000.0,\"f\":\"18000\"},{\"v\":80.0,\"f\":\"80\"}]}]}});";//return ContentService.createTextOutput(temp).setMimeType(ContentService.MimeType.JSON)}
function serveCalendar(){var START_YR=2006,ARR=[,"January","February","March","April","May","June","July","August","September","October","November","December"],d=new Date(),yr=d.getFullYear(),mo=d.getMonth()+1,ob=[],i,q,r,id,record,user=Session.getUser().getEmail(),db=ScriptDb.getMyDb(),out={"totalResultsCount":0,"records":[]};
    while(yr>START_YR){if(!--mo){mo=12;yr--;}q={table:"report",source:user/*Replace with company_id*/,year:yr,monthNum:mo};
        if(db.query(q).getSize()){r=db.query(q).next();}else{q.monthStr=ARR[mo];q.sortBy=1000*yr+mo;q.roi=[{timestamp:d.getTime(),amt:""}];r=db.load(db.save(q).getId());}
        out.records.push({
                    "db_id"              : function(){try{return LibraryjsUtil.rc4Encrypt("DktaE",r.getId())                             }catch(e){Logger.log("Error iurCY: "+e.message);return "";}}() //
                ,   "sortBy"             : function(){try{return                                  r.sortBy                               }catch(e){Logger.log("Error RMvQM: "+e.message);return "";}}() //
                ,   "year"               : function(){try{return                                  r.year                                 }catch(e){Logger.log("Error 3hBxC: "+e.message);return "";}}() //
                ,   "monthNum"           : function(){try{return                                  r.monthNum                             }catch(e){Logger.log("Error 4xnhC: "+e.message);return "";}}() //
                ,   "monthStr"           : function(){try{return                                  r.monthStr                             }catch(e){Logger.log("Error tqRYj: "+e.message);return "";}}() //
                ,   "roi"                : function(){try{return                                  r.roi[0].amt                           }catch(e){Logger.log("Error RdKOP: "+e.message);return "";}}() //
		        });}out.totalResultsCount=out.records.length;Logger.log(JSON.stringify(out));return out;}
function t_serveCalendar(){var START_YR=2006,ARR=[,"January","February","March","April","May","June","July","August","September","October","November","December"],d=new Date(),t=d.getTime(),yr=d.getFullYear(),mo=d.getMonth()+1,ob=[],i,q,qr,rq,r,id,out={"totalResultsCount":0,"records":[]},user=Session.getUser().getEmail(),db=ScriptDb.getMyDb(),q={table:"report",source:user/*Replace with company_id*/},results=db.query(q);while(results.hasNext()){rq=results.next();
    while(yr>START_YR){if(!--mo){mo=12;yr--;}
        /*try{*/if(rq.year==yr&rq.monthNum==mo){r=rq}/*}*catch(e)*/else{qr=q;qr.monthStr=ARR[mo];qr.sortBy=1000*yr+mo;qr.roi=[{timestamp:t,amt:""}];r=db.load(db.save(qr).getId());}
        out.records.push({
                    "db_id"              : function(){try{return LibraryjsUtil.rc4Encrypt("DktaE",r.getId())                             }catch(e){Logger.log("Error St5Tf: "+e.message);return "";}}() //
                ,   "sortBy"             : function(){try{return                                  r.sortBy                               }catch(e){Logger.log("Error SDdnN: "+e.message);return "";}}() //
                ,   "year"               : function(){try{return                                  r.year                                 }catch(e){Logger.log("Error ETGkj: "+e.message);return "";}}() //
                ,   "monthNum"           : function(){try{return                                  r.monthNum                             }catch(e){Logger.log("Error Ekqld: "+e.message);return "";}}() //
                ,   "monthStr"           : function(){try{return                                  r.monthStr                             }catch(e){Logger.log("Error mG5t6: "+e.message);return "";}}() //
                ,   "roi"                : function(){try{return                                  r.roi[0].amt                           }catch(e){Logger.log("Error 7WCWD: "+e.message);return "";}}() //
		        });}}out.totalResultsCount=out.records.length;/*Logger.log(JSON.stringify(out));*/return out;}
function serveMarquee(){}
</script>
-------------------------------------- home00.html --------------------------------------
<!DOCTYPE html><html> <!-- index -->
<head>
	<link  href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
	<style></style>
</head>
<body>
	<div class="container-fluid">
		<table class="table table-striped">
			<thead><tr><th>Version</th><th>Link</th><th>Description</th></tr></thead>
			<tbody>									     <!--  https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=1sv3w02acjab165npapw -->
                <tr><td>   24</td><td><a target="_blank" href="https://script.google.com/macros/s/AKfycbx5kiVF6e7MU5v2WIGlyH-iNG6RizcnsDgE97XqsTAd09FiAwH1/exec"                      >Click</a></td><td>BookTime&trade; | Web app for realtime scheduling using AngularJS + Firebase</td></tr>
                <tr><td>   23</td><td><a target="_blank" href="https://blazing-heat-4384.firebaseapp.com/#/"                                                                          >Click</a></td><td>Todo Task List | Web app for realtime task database using AngularJS + Firebase</td></tr>
				<tr><td>   22</td><td><a target="_blank" href="https://shining-heat-3010.firebaseapp.com/#/"                                                                          >Click</a></td><td>TaskNinja| Web app for realtime digital marketplace using AngularJS + Firebase</td></tr>
				<tr><td>   21</td><td><a target="_blank" href="https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=hfi6cl82qwih4m8g2tf5">Click</a></td><td>Firechat | https://github.com/firebase/firechat</td></tr>
				<tr><td>   20</td><td><a target="_blank" href="https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=3001kdhf908dyxi448fn">Click</a></td><td>AngularFire Auth | Firebase simple login implementation using AngularFire</td></tr>
				<tr><td>   19</td><td><a target="_blank" href="https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=jid048wsrnfpmi3f5p4q">Click</a></td><td>Todo list app | client-side only, no Firebase or backend persistence</td></tr>
				<tr><td>   18</td><td><a target="_blank" href="https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=aaf8bdl9j9qpypjoycst">Click</a></td><td>User Authentication and Login | No AngularJS | Nice header navigation and features</td></tr>
				<tr><td>   17</td><td><a target="_blank" href="https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=vwloa49rro4yw556xihn">Click</a></td><td>UI Grid | 401 All Features | Format Error</td></tr>
				<tr><td>   16</td><td><a target="_blank" href="https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=lh2l4i2l6c15p3ft6ysv">Click</a></td><td>UI Grid | 190 Large Dataset</td></tr>
				<tr><td>   15</td><td><a target="_blank" href="https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=1whfydgee1i01qqb1s46">Click</a></td><td>Chat Demo | Angularfire</td></tr>
				<tr><td>   14</td><td><a target="_blank" href="https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=d2xh8fthkwvyla4e6dnp"></a>     </td><td>GAS server communication for data retrieval | rewrite </td></tr>
				<tr><td>   13</td><td><a target="_blank" href="https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=rv7s4y2su7cu9bnespyo"></a>     </td><td>GAS server communication for data retrieval | original | ReferenceError: "include" is not defined.</td></tr>
				<tr><td>   12</td><td><a target="_blank" href="https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=8fbb6mwsjj52abjszpxd">Click</a></td><td>UI Grid | 106 Binding</td></tr>
				<tr><td>   11</td><td><a target="_blank" href="https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=orlj0565iyksyljusej3"></a>     </td><td>UI-Grid</td></tr>
				<tr><td>   10</td><td><a target="_blank" href="https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=fz6c87m2csi9tn2h4s4v">Click</a></td><td>UI Grid | 101 Intro</td></tr>
				<tr><td>   09</td><td><a target="_blank" href="https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=uwesajhrt8hrikfe3u4n"></a>     </td><td>UI-Grid</td></tr>
				<tr><td>   08</td><td><a target="_blank" href="https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=kkpvxrdkbxhpqqji7hea"></a>     </td><td>UI-Grid | large data set</td></tr>
				<tr><td>   07</td><td><a target="_blank" href="https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=7tjvfsi1wsnvm7w3ky7a">Click</a></td><td>CruD | Prediction Market App | (incomplete)</td></tr>
				<tr><td>   06</td><td><a target="_blank" href="https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=qahmonjq1adg51x5tz86">Click</a></td><td>CruD | Create and Delete | Table | (no update, no retrieve)</td></tr>
				<tr><td>   05</td><td><a target="_blank" href="https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=rcd3trcmpywmwr4nih4t"></a>     </td><td>Add placard to scenario calculator</td></tr>
				<tr><td>   04</td><td><a target="_blank" href="https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=1yerz7kebrjt2bwjxob0">Click</a></td><td>Scenario Calculator | Table | Valuation, pre-money, post-money</td></tr>
				<tr><td>   03</td><td><a target="_blank" href="https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=ih4qy9gb5nzgmndo1nii">Click</a></td><td>Scenario Calculator | Stacked | Valuation, pre-money, post-money</td></tr>
				<tr><td>   02</td><td><a target="_blank" href="https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=7mdtrpbukxppjl57gxez">Click</a></td><td>Binding only (no crud)</td></tr>
				<tr><td>   01</td><td><a target="_blank" href="https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=9h3njfs6ohusbp2ievz7"></a>     </td><td>User list and edit</td></tr>
				<tr><td>Index</td><td><a target="_blank" href="https://script.google.com/macros/s/AKfycbw6aVYNyVlHRnNl-mkm3jON0CMEBr0oLVOIvnkzezx5v_V49io/exec?k=1sv3w02acjab165npapw">Index</a></td><td>Index</td></tr>
			</tbody>
		</table>
	</div>
</body>
</html>
-------------------------------------- home01.html --------------------------------------
<!DOCTYPE html><html> <!-- v.01 --> <!-- Reference: http://www.w3schools.com/angular/angular_bootstrap.asp -->
<head>
	<link  href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
</head>
<body ng-app="myApp" ng-controller="userCtrl">
    <div class="container">
        <h3>Users</h3>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Edit</th>
                    <th>First Name</th>
                    <th>Last Name</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="user in users">
                    <td>
                        <button class="btn" ng-click="editUser(user.id)"> <span class="glyphicon glyphicon-pencil"></span>  Edit </button>
                    </td>
                    <td>{{ user.fName }}</td>
                    <td>{{ user.lName }}</td>
                </tr>
            </tbody>
        </table>
        <hr>
        <button class="btn btn-success" ng-click="editUser('new')"> <span class="glyphicon glyphicon-user"></span>  Create New User </button>
        <hr>
        <h3 xng-show="edit">Create New User:</h3>
        <h3 xng-hide="edit">Edit User:</h3>
        <form class="form-horizontal">
            <div class="form-group">
                <label class="col-sm-2 control-label">First Name:</label>
                <div class="col-sm-10">
                    <input type="text" ng-model="fName" xng-disabled="!edit" placeholder="First Name"> </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">Last Name:</label>
                <div class="col-sm-10">
                    <input type="text" ng-model="lName" xng-disabled="!edit" placeholder="Last Name"> </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">Password:</label>
                <div class="col-sm-10">
                    <input type="password" ng-model="passw1" placeholder="Password"> </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">Repeat:</label>
                <div class="col-sm-10">
                    <input type="password" ng-model="passw2" placeholder="Repeat Password"> </div>
            </div>
        </form>
        <hr>
        <button class="btn btn-default" ng-disabled="error || incomplete"> <span class="glyphicon glyphicon-save"></span>  Save Changes </button>
    </div>
    <script xsrc="myUsers.js">
    var app = angular.module("myApp", []);
    </script>
    <script>
    angular.module('myApp', []).controller('userCtrl', function($scope) {
        $scope.fName = '';
        $scope.lName = '';
        $scope.passw1 = '';
        $scope.passw2 = '';
        $scope.users = [{
            id: 1,
            fName: 'Hege',
            lName: "Pege"
        }, {
            id: 2,
            fName: 'Kim',
            lName: "Pim"
        }, {
            id: 3,
            fName: 'Sal',
            lName: "Smith"
        }, {
            id: 4,
            fName: 'Jack',
            lName: "Jones"
        }, {
            id: 5,
            fName: 'John',
            lName: "Doe"
        }, {
            id: 6,
            fName: 'Peter',
            lName: "Pan"
        }];
        $scope.edit = true;
        $scope.error = false;
        $scope.incomplete = false;
        $scope.editUser = function(id) {
            if (id == 'new') {
                $scope.edit = true;
                $scope.incomplete = true;
                $scope.fName = '';
                $scope.lName = '';
            } else {
                $scope.edit = false;
                $scope.fName = $scope.users[id - 1].fName;
                $scope.lName = $scope.users[id - 1].lName;
            }
        };
        $scope.$watch('passw1', function() {
            $scope.test();
        });
        $scope.$watch('passw2', function() {
            $scope.test();
        });
        $scope.$watch('fName', function() {
            $scope.test();
        });
        $scope.$watch('lName', function() {
            $scope.test();
        });
        $scope.test = function() {
            if ($scope.passw1 !== $scope.passw2) {
                $scope.error = true;
            } else {
                $scope.error = false;
            }
            $scope.incomplete = false;
            if ($scope.edit && (!$scope.fName.length || !$scope.lName.length || !$scope.passw1.length || !$scope.passw2.length)) {
                $scope.incomplete = true;
            }
        };
    });
    </script>
</body>
</html>
-------------------------------------- home02.html --------------------------------------
<!DOCTYPE html><html> <!-- v.02 --> <!-- Reference: http://www.w3schools.com/angular/angular_bootstrap.asp -->
<head>
	<link  href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
</head>
<body ng-app="myApp" ng-controller="userCtrl"><h2>v02 | Binding only (no crud)</h2>
    <div class="container">
        <h3>Users</h3>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>
                        <button class="btn btn-primary xbtn-success" xng-disabled="error || incomplete"> <span xclass="glyphicon glyphicon-ok"></span>Save Changes</button>
                    </th>
                    <th></th>
                    <th></th>
                </tr>
                <tr>
                    <th>
                        <button class="btn btn-default xbtn-success" ng-click="editUser('new')"> <span class="glyphicon glyphicon-plus"></span><!--Create New User--></button>
                    </th>
                    <th>
                        <input type="text" ng-model="fName" xng-disabled="!edit" placeholder="First Name">
                    </th>
                    <th>
                        <input type="text" ng-model="lName" xng-disabled="!edit" placeholder="Last Name">
                    </th>
                </tr>
                <tr>
                    <th>Edit</th>
                    <th>First Name</th>
                    <th>Last Name</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="user in users">
                    <td>
                        <button class="btn btn-default" ng-click="editUser(user.id)"> <span class="glyphicon glyphicon-pencil"></span><!--Edit--></button>
                    </td>
                    <td>{{ user.fName }}</td>
                    <td>{{ user.lName }}</td>
                </tr>
            </tbody>
        </table>
    </div>
    <script xsrc="myUsers.js">
    var app = angular.module("myApp", []);
    </script>
    <script>
    angular.module('myApp', []).controller('userCtrl', function($scope) {
        $scope.fName = '';
        $scope.lName = '';
        $scope.passw1 = '';
        $scope.passw2 = '';
        $scope.users = [{
            id: 1,
            fName: 'Hege',
            lName: "Pege"
        }, {
            id: 2,
            fName: 'Kim',
            lName: "Pim"
        }, {
            id: 3,
            fName: 'Sal',
            lName: "Smith"
        }, {
            id: 4,
            fName: 'Jack',
            lName: "Jones"
        }, {
            id: 5,
            fName: 'John',
            lName: "Doe"
        }, {
            id: 6,
            fName: 'Peter',
            lName: "Pan"
        }];
        $scope.edit = true;
        $scope.error = false;
        $scope.incomplete = false;
        $scope.editUser = function(id) {
            if (id == 'new') {
                $scope.edit = true;
                $scope.incomplete = true;
                $scope.fName = '';
                $scope.lName = '';
            } else {
                $scope.edit = false;
                $scope.fName = $scope.users[id - 1].fName;
                $scope.lName = $scope.users[id - 1].lName;
            }
        };
        $scope.$watch('passw1', function() {
            $scope.test();
        });
        $scope.$watch('passw2', function() {
            $scope.test();
        });
        $scope.$watch('fName', function() {
            $scope.test();
        });
        $scope.$watch('lName', function() {
            $scope.test();
        });
        $scope.test = function() {
            if ($scope.passw1 !== $scope.passw2) {
                $scope.error = true;
            } else {
                $scope.error = false;
            }
            $scope.incomplete = false;
            if ($scope.edit && (!$scope.fName.length || !$scope.lName.length || !$scope.passw1.length || !$scope.passw2.length)) {
                $scope.incomplete = true;
            }
        };
    });
    </script>
</body>
</html>
-------------------------------------- home03.html --------------------------------------
<!DOCTYPE html><html> <!-- v.03 --> <!-- Stacked scenarios -->
<head>
	<link  href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
</head>
<body>
<div ng-app="myApp" ng-controller="myCtrl"><h1>v03 | Scenario Calculator | Stacked | Valuation, pre-money, post-money</h1>
	Money             <input type="number" ng-model="money1" ><br>
	Percent acquired  <input type="number" ng-model="pct1"   ><br>
	Post money value: {{post1() | currency}}                  <br>
	Pre money value:  {{pre1()  | currency}}                  <br>
															  <br>
	Pre money value   <input type="number" ng-model="pre2"   ><br>
	Money             <input type="number" ng-model="money2" ><br>
	Percent to sell:  {{pct2()}}%                             <br>
	Post money value: {{post2() | currency}}                  <br>
															  <br>
	Pre money value   <input type="number" ng-model="pre3"   ><br>
	Percent to sell   <input type="number" ng-model="pct3"   ><br>
	Money:            {{money3() | currency}}                 <br>
	Post money value: {{post3()  | currency}}                 <br>
</div>
<script>
	var app=angular.module( 'myApp'  , []);
		app.controller    ( 'myCtrl' , function($scope){
			$scope.post1  = function(){return $scope.money1  /    $scope.pct1     * 100  };
			$scope.pre1   = function(){return $scope.post1() -    $scope.money1          };
			$scope.post2  = function(){return $scope.pre2    +    $scope.money2          };
			$scope.pct2   = function(){return $scope.money2  /    $scope.post2()  * 100  };
			$scope.post3  = function(){return $scope.pre3    / (1-$scope.pct3     / 100) };
			$scope.money3 = function(){return $scope.post3() -    $scope.pre3            };
		});
</script>
</body>
</html>
-------------------------------------- home04.html --------------------------------------
<!DOCTYPE html><html> <!-- v.04 --> <!-- Scenarios table -->
<head>
	<link  href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
</head>
<body>
<div class="container" ng-app="myApp" ng-controller="myCtrl"><h1>v04 | Scenario Calculator | Table | Valuation, pre-money, post-money</h1>
	<table class="table">
		<thead>
			<tr>
				<th class="col-xs-3 col-md-offset-0">Pre money value</th>
				<th class="col-xs-3 col-md-offset-0">New money</th>
				<th class="col-xs-3 col-md-offset-0">Pct bought/sold</th>
				<th class="col-xs-3 col-md-offset-0">Post money value</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>{{pre1()  | currency}}</td>                  <!--Pre money value-->
				<td>											 <!--New money-->
					<div class="input-group">
						<span class="input-group-addon">$</span>
						<input ng-model="money1" type="number" class="form-control" aria-label="Amount to nearest dollar">
						<!--<span class="input-group-addon">%</span>-->
					</div>
				</td>
				<td>											 <!--Pct bought/sold-->
					<div class="input-group">
						<!--<span class="input-group-addon">$</span>-->
						<input ng-model="pct1" type="number" class="form-control" aria-label="Percentage">
						<span class="input-group-addon">%</span>
					</div>
				</td>				
				<td>{{post1() | currency}}</td>                  <!--Post money value-->
			</tr>
			<tr>
				<td>											 <!--Pre money value-->
					<div class="input-group">
						<span class="input-group-addon">$</span>
						<input ng-model="pre2" type="number" class="form-control" aria-label="Amount to nearest dollar">
						<!--<span class="input-group-addon">%</span>-->
					</div>
				</td>
				<td>											 <!--New money-->
					<div class="input-group">
						<span class="input-group-addon">$</span>
						<input ng-model="money2" type="number" class="form-control" aria-label="Amount to nearest dollar">
						<!--<span class="input-group-addon">%</span>-->
					</div>
				</td>
				<td>{{pct2()}}%</td>                             <!--Pct bought/sold-->
				<td>{{post2() | currency}}</td>                  <!--Post money value-->
			</tr>
			<tr>
				<td>											 <!--Pre money value-->
					<div class="input-group">
						<span class="input-group-addon">$</span>
						<input ng-model="pre3" type="number" class="form-control" aria-label="Amount to nearest dollar">
						<!--<span class="input-group-addon">%</span>-->
					</div>
				</td>
				<td>{{money3() | currency}}                 </td><!--New money-->
				<td>											 <!--Pct bought/sold-->
					<div class="input-group">
						<!--<span class="input-group-addon">$</span>-->
						<input ng-model="pct3" type="number" class="form-control" aria-label="Percentage">
						<span class="input-group-addon">%</span>
					</div>
				</td>				
				<td>{{post3()  | currency}}                 </td><!--Post money value-->
			</tr>
		</tbody>
	</table>
</div>
<script type='text/javascript'>
	var app=angular.module( 'myApp'  , []);
		app.controller    ( 'myCtrl' , function($scope){
			$scope.post1  = function(){return $scope.money1  /    $scope.pct1     * 100  };
			$scope.pre1   = function(){return $scope.post1() -    $scope.money1          };
			$scope.post2  = function(){return $scope.pre2    +    $scope.money2          };
			$scope.pct2   = function(){return $scope.money2  /    $scope.post2()  * 100  };
			$scope.post3  = function(){return $scope.pre3    / (1-$scope.pct3     / 100) };
			$scope.money3 = function(){return $scope.post3() -    $scope.pre3            };
		});
</script>
<script type='text/javascript'>
//  $(document).ready(function() { // FuelUX
	$('#myPlacard').placard();
//  });
</script>
</body>
</html>
-------------------------------------- home05.html --------------------------------------
<!DOCTYPE html><html> <!-- v.05 --> <!-- Add placard inputs (not working) -->
<head>
	<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="//fuelcdn.com/fuelux/2.3/css/fuelux.min.css"><!-- http://getfuelux.com/getting-started.html#templates Fuel UX extends Bootstrap with additional lightweight JavaScript controls for your web applications. -->
    <!--<link rel="stylesheet" type="text/css" href="//fuelcdn.com/fuelux/2.3/css/fuelux-responsive.css">-->
	<script src= "//ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
</head>
<body>
<div class="container" ng-app="myApp" ng-controller="myCtrl">
	<table class="table" id="table">
		<thead>
			<tr>
				<th class="col-xs-3 col-md-offset-0">Pre-money value</th>
				<th class="col-xs-3 col-md-offset-0">Investment</th>
				<th class="col-xs-3 col-md-offset-0">Pct bought/sold</th>
				<th class="col-xs-3 col-md-offset-0">Post-money value</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>{{pre1()  | currency}}</td>                  <!--Pre money value-->
				<td>											 <!--New money-->
					<div class="input-group">
						<span class="input-group-addon">$</span>
						<input ng-model="money1" type="number" class="form-control" aria-label="Amount to nearest dollar">
						<!--<span class="input-group-addon">%</span>-->
					</div>
				</td>
				<td>											 <!--Pct bought/sold-->
					<div class="input-group">
						<!--<span class="input-group-addon">$</span>-->
						<input ng-model="pct1" type="number" class="form-control" aria-label="Percentage">
						<span class="input-group-addon">%</span>
					</div>
				</td>				
				<td>                                             <!--Post money value-->
					<div class="placard" data-ellipsis="true" data-initialize="placard" id="myPlacard">
						<div class="placard-popup"></div>
						<div class="placard-header"><h5>Header</h5></div>
						<input class="form-control placard-field" type="text" value="{{post1() | currency}}" />
						<div class="placard-footer">
							<a class="placard-cancel" href="#">Cancel</a>
							<button class="btn btn-primary btn-xs placard-accept" type="button">Save</button>
						</div>
					</div>
				</td>
			</tr>
			<tr>
				<td>											 <!--Pre money value-->
					<div class="input-group">
						<span class="input-group-addon">$</span>
						<input ng-model="pre2" type="number" class="form-control" aria-label="Amount to nearest dollar">
						<!--<span class="input-group-addon">%</span>-->
					</div>
				</td>
				<td>											 <!--New money-->
					<div class="input-group">
						<span class="input-group-addon">$</span>
						<input ng-model="money2" type="number" class="form-control" aria-label="Amount to nearest dollar">
						<!--<span class="input-group-addon">%</span>-->
					</div>
				</td>
				<td>{{pct2()}}%</td>                             <!--Pct bought/sold-->
				<td>{{post2() | currency}}</td>                  <!--Post money value-->
			</tr>
			<tr>
				<td>											 <!--Pre money value-->
					<div class="input-group">
						<span class="input-group-addon">$</span>
						<input ng-model="pre3" type="number" class="form-control" aria-label="Amount to nearest dollar">
						<!--<span class="input-group-addon">%</span>-->
					</div>
				</td>
				<td>{{money3() | currency}}                 </td><!--New money-->
				<td>											 <!--Pct bought/sold-->
					<div class="input-group">
						<!--<span class="input-group-addon">$</span>-->
						<input ng-model="pct3" type="number" class="form-control" aria-label="Percentage">
						<span class="input-group-addon">%</span>
					</div>
				</td>				
				<td>{{post3()  | currency}}                 </td><!--Post money value-->
			</tr>
		</tbody>
	</table>
</div>
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script type="text/javascript" src="//fuelcdn.com/fuelux/2.3.1/loader.min.js"></script>
	<script type='text/javascript'>
		var app=angular.module( 'myApp'  , []);
			app.controller    ( 'myCtrl' , function($scope){
				$scope.post1  = function(){return $scope.money1  /    $scope.pct1     * 100  };
				$scope.pre1   = function(){return $scope.post1() -    $scope.money1          };
				$scope.post2  = function(){return $scope.pre2    +    $scope.money2          };
				$scope.pct2   = function(){return $scope.money2  /    $scope.post2()  * 100  };
				$scope.post3  = function(){return $scope.pre3    / (1-$scope.pct3     / 100) };
				$scope.money3 = function(){return $scope.post3() -    $scope.pre3            };
			});
	</script>
</body>
</html>
-------------------------------------- home06.html --------------------------------------
<!DOCTYPE html><html> <!-- v.06 --> <!-- Repeater table | create and delete | CruD -->
<head>
	<link  href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
</head>
<body>
<div class="container" ng-app="myApp" ng-controller="myCtrl"><h1>v06 | CruD | Create and Delete | Table | (no update, no retrieve)</h1>
	<table class="table table-striped">
		<thead>
			<tr>
				<td>											 <!--First name-->
					<div class="input-group">
						<!--<span class="input-group-addon">$</span>-->
						<input ng-model="first" type="text" class="form-control" xplaceholder="First name" aria-label="" value="{{first}}">
						<!--<span class="input-group-addon">%</span>-->
					</div>
				</td>
				<td>											 <!--Last name-->
					<div class="input-group">
						<!--<span class="input-group-addon">$</span>-->
						<input ng-model="last" type="text" class="form-control" xplaceholder="Last name" aria-label="" value="{{last}}">
						<!--<span class="input-group-addon">%</span>-->
					</div>
				</td>
				<th>											 <!--Save button-->
					<button class="btn xbtn-default btn-primary xbtn-block" ng-click='addNew()'>
						<span class="glyphicon glyphicon-plus"></span>
					</button>
				</th>
			</tr>
			<tr>
				<th>First Name</th>
				<th>Last Name</th>
				<th></th>
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat="r in ar">
				<td>{{ r.first }}</td>
				<td>{{ r.last  }}</td>
				<td>
					<button class="btn btn-default" ng-click='ar.splice($index,1)'>
						<span class="glyphicon glyphicon-minus"></span>
					</button><!--{{$index}}-->
				</td>
			</tr>
		</tbody>
	</table>
</div>
<script type='text/javascript'>
	var app=angular.module( 'myApp'  , []);
		app.controller    ( 'myCtrl' , function($scope){
		/*	$scope.post1  = function(){return $scope.money1  /    $scope.pct1     * 100  };
			$scope.pre1   = function(){return $scope.post1() -    $scope.money1          };
			$scope.post2  = function(){return $scope.pre2    +    $scope.money2          };
			$scope.pct2   = function(){return $scope.money2  /    $scope.post2()  * 100  };
			$scope.post3  = function(){return $scope.pre3    / (1-$scope.pct3     / 100) };
			$scope.money3 = function(){return $scope.post3() -    $scope.pre3            }; */
			$scope.first  = "";
			$scope.last   = "";
			$scope.ar     = [{"id":1,"first":"John","last":"Doe"}
			                ,{"id":2,"first":"Foo" ,"last":"Bar"}];
			$scope.addNew = function(){$scope.ar.unshift({"id":$scope.ar.length,"first":$scope.first,"last":$scope.last});$scope.first="";$scope.last="";};
		});
</script>
</body>
</html>
-------------------------------------- home07.html --------------------------------------
<!DOCTYPE html><html> <!-- v.07 --> <!-- Repeater table, delete ... add market and orders --> <!-- Incomplete -->
<head>
	<link  href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
</head>
<body>
<div class="container" ng-app="myApp" ng-controller="myCtrl"><h1>v07 | CruD | Prediction Market App | (incomplete)</h1>
	<table class="table table-striped">
		<thead>
			<tr>
				<td class="col-xs-3 col-md-offset-0">		 <!--Market-->
					<div class="input-group">
						<!--<span class="input-group-addon">$</span>-->
						<input ng-model="market" type="textarea" class="form-control" xplaceholder="Market" aria-label="" value="{{market}}">
						<!--<span class="input-group-addon">%</span>-->
					</div>
				</td>
				<td class="col-xs-1 col-md-offset-0">	     <!--Side-->
					<div class="input-group">
						<!--<span class="input-group-addon">$</span>-->
						<input ng-model="side" type="text" class="form-control" xplaceholder="Side" aria-label="" value="{{side}}">
						<!--<span class="input-group-addon">%</span>-->
					</div>
				</td>
				<td class="col-xs-1 col-md-offset-0">		 <!--Price-->
					<div class="input-group">
						<!--<span class="input-group-addon">$</span>-->
						<input ng-model="price" type="text" class="form-control" xplaceholder="Price" aria-label="" value="{{price}}">
						<!--<span class="input-group-addon">%</span>-->
					</div>
				</td>
				<td class="col-xs-1 col-md-offset-0">		 <!--Save button-->
					<button class="btn xbtn-default btn-primary xbtn-block" ng-click='addNew()'>
						<span class="glyphicon glyphicon-plus"></span>
					</button>
				</td>
			</tr>
			<tr>
				<th>Market Question</th>
				<th>Side</th>
				<th>Price</th>
				<th></th>
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat="r in ar">
				<td>{{ r.market }}</td>
				<td>{{ r.side   }}</td>
				<td>{{ r.price  }}</td>
				<td>
					<button class="btn btn-default" ng-click='ar.splice($index,1)'>
						<span class="glyphicon glyphicon-minus"></span>
					</button><!--{{$index}}-->
				</td>
			</tr>
		</tbody>
	</table>
</div>
<script type='text/javascript'>
	var app=angular.module( 'myApp'  , []);
		app.controller    ( 'myCtrl' , function($scope){
		/*	$scope.post1  = function(){return $scope.money1  /    $scope.pct1     * 100  };
			$scope.pre1   = function(){return $scope.post1() -    $scope.money1          };
			$scope.post2  = function(){return $scope.pre2    +    $scope.money2          };
			$scope.pct2   = function(){return $scope.money2  /    $scope.post2()  * 100  };
			$scope.post3  = function(){return $scope.pre3    / (1-$scope.pct3     / 100) };
			$scope.money3 = function(){return $scope.post3() -    $scope.pre3            }; */
			$scope.market = "";
			$scope.side   = "";
			$scope.price  = "";
			$scope.ar     = [{"id":1,"market":"Lorem ipsum"}
			                ,{"id":2,"market":"Lorem ipsum"}];
			// Fetch data example: http://www.w3schools.com/angular/tryit.asp?filename=try_ng_tables_index
			/*
			app.controller('customersCtrl', function($scope, $http) {
				$http.get("http://www.w3schools.com/angular/customers.php")
				.success(function (response) {$scope.names = response.records;});});
			*/
			$scope.addNew = function(){$scope.ar.unshift({"id"    :$scope.ar.length
			                                             ,"market":$scope.market
			                                             ,"side"  :$scope.side
			                                             ,"price" :$scope.price
														 });$scope.market="";$scope.side="";$scope.price="";};
		});
</script>
</body>
</html>
-------------------------------------- home08.html --------------------------------------
<!DOCTYPE html><html ng-app="app"> <!-- v.08 --> <!-- UI-Grid http://ui-grid.info/docs/#/tutorial/401_AllFeatures --> <!-- (Beta ui-grid) Not working as of 5/12/2015; switch back to ng-grid: http://angular-ui.github.io/ng-grid/ -->
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular-touch.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular-animate.js"></script>
    <script src="https://googledrive.com/host/0B1LVOoV_2dFtOFpkeTRieW95QWM" xsrc="http://ui-grid.info/docs/grunt-scripts/csv.js"></script>
    <script src="https://googledrive.com/host/0B1LVOoV_2dFtVEhmY0dhQWF2YW8" xsrc="http://ui-grid.info/docs/grunt-scripts/pdfmake.js"></script>
    <script src="https://googledrive.com/host/0B1LVOoV_2dFtMkNoZTdkMEppZGc" xsrc="http://ui-grid.info/docs/grunt-scripts/vfs_fonts.js"></script>
    <script src="https://googledrive.com/host/0B1LVOoV_2dFtUXBwUlFNaWxyRVU" xsrc="http://ui-grid.info/release/ui-grid-unstable.js"></script>
	<link rel="stylesheet" type="text/css" href="https://googledrive.com/host/0B1LVOoV_2dFtVnVEMlUwVUQxMzQ" xhref="http://ui-grid.info/release/ui-grid-unstable.css" />
    <style>.grid{width:500px;height:500px;}</style>
    <script src="//cdn.rawgit.com/angular-ui/ui-grid.info/gh-pages/release/3.0.0-rc.20/ui-grid.js"></script>
	<link rel="stylesheet" type="text/css" href="//cdn.rawgit.com/angular-ui/ui-grid.info/gh-pages/release/3.0.0-rc.20/ui-grid.css" />
</head>
<body>
    <div ng-controller="MainCtrl">
        <button id="refreshButton" type="button" class="btn btn-success" ng-click="refreshData()">Refresh Data</button> <strong>Calls Pending:</strong> <span ng-bind="callsPending"></span>
        <br>
        <br> <strong>{{ myData.length }} rows</strong>
        <br>
        <div id="grid1" ui-grid="gridOptions" ui-grid-cellNav ui-grid-edit ui-grid-resize-columns ui-grid-pinning ui-grid-selection ui-grid-move-columns ui-grid-importer ui-grid-exporter ui-grid-grouping class="grid"></div>
    </div>
    <script xsrc="app.js">
		var app = angular.module('app', ['ngTouch', 'ui.grid', 'ui.grid.cellNav', 'ui.grid.edit', 'ui.grid.resizeColumns', 'ui.grid.pinning', 'ui.grid.selection', 'ui.grid.moveColumns', 'ui.grid.exporter', 'ui.grid.importer', 'ui.grid.grouping']);
		app.controller('MainCtrl', ['$scope', '$http', '$timeout', '$interval', 'uiGridConstants',
			function($scope, $http, $timeout, $interval, uiGridConstants) {
				$scope.gridOptions = {};
				$scope.gridOptions.data = 'myData';
				$scope.gridOptions.enableColumnResizing = true;
				$scope.gridOptions.enableFiltering = true;
				$scope.gridOptions.enableGridMenu = true;
				$scope.gridOptions.showGridFooter = true;
				$scope.gridOptions.showColumnFooter = true;
				$scope.gridOptions.fastWatch = true;
				$scope.gridOptions.rowIdentity = function(row) {
					return row.id;
				};
				$scope.gridOptions.getRowIdentity = function(row) {
					return row.id;
				};
				$scope.gridOptions.columnDefs = [{
					name: 'id',
					width: 50
				}, {
					name: 'name',
					width: 100
				}, {
					name: 'age',
					width: 100,
					enableCellEdit: true,
					aggregationType: uiGridConstants.aggregationTypes.avg,
					cellTemplate: '<div class="ui-grid-cell-contents"><span>Age:{{COL_FIELD}}</span></div>'
				}, {
					name: 'address.street',
					width: 150,
					enableCellEdit: true,
					cellTemplate: '<div class="ui-grid-cell-contents"><span>Street:{{COL_FIELD}}</span></div>'
				}, {
					name: 'address.city',
					width: 150,
					enableCellEdit: true,
					cellTemplate: '<div class="ui-grid-cell-contents"><span>City:{{COL_FIELD}}</span></div>'
				}, {
					name: 'address.state',
					width: 50,
					enableCellEdit: true,
					cellTemplate: '<div class="ui-grid-cell-contents"><span>State:{{COL_FIELD}}</span></div>'
				}, {
					name: 'address.zip',
					width: 50,
					enableCellEdit: true,
					cellTemplate: '<div class="ui-grid-cell-contents"><span>Zip:{{COL_FIELD}}</span></div>'
				}, {
					name: 'company',
					width: 100,
					enableCellEdit: true,
					cellTemplate: '<div class="ui-grid-cell-contents"><span>Company:{{COL_FIELD}}</span></div>'
				}, {
					name: 'email',
					width: 100,
					enableCellEdit: true,
					cellTemplate: '<div class="ui-grid-cell-contents"><span>Email:{{COL_FIELD}}</span></div>'
				}, {
					name: 'phone',
					width: 200,
					enableCellEdit: true,
					cellTemplate: '<div class="ui-grid-cell-contents"><span>Phone:{{COL_FIELD}}</span></div>'
				}, {
					name: 'about',
					width: 300,
					enableCellEdit: true,
					cellTemplate: '<div class="ui-grid-cell-contents"><span>AAbout:{{COL_FIELD}}</span></div>'
				}, {
					name: 'friends[0].name',
					displayName: '1st friend',
					width: 150,
					enableCellEdit: true,
					cellTemplate: '<div class="ui-grid-cell-contents"><span>Friend0:{{COL_FIELD}}</span></div>'
				}, {
					name: 'friends[1].name',
					displayName: '2nd friend',
					width: 150,
					enableCellEdit: true,
					cellTemplate: '<div class="ui-grid-cell-contents"><span>Friend1:{{COL_FIELD}}</span></div>'
				}, {
					name: 'friends[2].name',
					displayName: '3rd friend',
					width: 150,
					enableCellEdit: true,
					cellTemplate: '<div class="ui-grid-cell-contents"><span>Friend2:{{COL_FIELD}}</span></div>'
				}, {
					name: 'agetemplate',
					field: 'age',
					width: 150,
					cellTemplate: '<div class="ui-grid-cell-contents"><span>Age 2:{{COL_FIELD}}</span></div>'
				}];
				$scope.callsPending = 0;
				var i = 0;
				$scope.refreshData = function() {
					$scope.myData = [];
					var start = new Date();
					var sec = $interval(function() {
						$scope.callsPending++;
						$http.get('//ui-grid.info/data/500_complex.json').success(function(data) {
							$scope.callsPending--;
							data.forEach(function(row) {
								row.name = row.name + ' iter ' + i;
								row.id = i;
								i++;
								$scope.myData.push(row);
							});
						}).error(function() {
							$scope.callsPending--
						});
					}, 200);
					$timeout(function() {
						$interval.cancel(sec);
						$scope.left = '';
					}, 2000);
				};
			}
		]);
	</script>
</body>
</html>
-------------------------------------- home09.html --------------------------------------
<!DOCTYPE html><html ng-app="myApp"> <!-- v.09 --> <!-- http://angular-ui.github.io/ng-grid/ --> <!-- Not working as of 5/13/2015 -->
    <head lang="en">
        <meta charset="utf-8">
        <title>Getting Started With ngGrid Example</title>  
        <link rel="stylesheet" type="text/css" href="//ui-grid.info/release/ui-grid-unstable.min.css" xhref="ng-grid.css" />
        <script type="text/javascript"  src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.4/angular.min.js"></script>
        <script type="text/javascript"  src="//code.jquery.com/jquery-1.11.3.min.js" xsrc="jquery-1.8.2.js" xsrc="http://code.jquery.com/"></script>
        <script type="text/javascript"  src="//ui-grid.info/release/ui-grid-unstable.min.js" xsrc="ng-grid-1.3.2.js //github.com/angular-ui/ng-grid"></script>
		<style>.gridStyle{border:1px solid rgb(212,212,212);width:400px;height:300px}</style><!--<link rel="stylesheet" type="text/css" href="style.css" />-->
    </head>
    <body ng-controller="MyCtrl">
        <div class="gridStyle" ng-grid="gridOptions"></div>
        <script type="text/javascript" xsrc="main.js">
			var app = angular.module('myApp', ['ngGrid']);//['ui.grid']);
			app.controller('MyCtrl', function($scope) {
				$scope.myData = [	{name: "Moroni"  , age: 50}
								,	{name: "Tiancum" , age: 43}
								,	{name: "Jacob"   , age: 27}
								,	{name: "Nephi"   , age: 29}
								,	{name: "Enos"    , age: 34} ];
				$scope.gridOptions = { data: 'myData' };
			});
		</script>
	</body>
</html>
-------------------------------------- home10.html --------------------------------------
<!DOCTYPE html><html ng-app="app"> <!-- v.10 --> <!-- UI-Grid http://ui-grid.info/docs/#/tutorial/101_intro -->
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular-touch.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular-animate.js"></script>
    <script src="https://googledrive.com/host/0B1LVOoV_2dFtOFpkeTRieW95QWM" xsrc="http://ui-grid.info/docs/grunt-scripts/csv.js"></script>
    <script src="https://googledrive.com/host/0B1LVOoV_2dFtVEhmY0dhQWF2YW8" xsrc="http://ui-grid.info/docs/grunt-scripts/pdfmake.js"></script>
    <script src="https://googledrive.com/host/0B1LVOoV_2dFtMkNoZTdkMEppZGc" xsrc="http://ui-grid.info/docs/grunt-scripts/vfs_fonts.js"></script>
    <script src="https://googledrive.com/host/0B1LVOoV_2dFtUXBwUlFNaWxyRVU" xsrc="http://ui-grid.info/release/ui-grid-unstable.js"></script>
<!--<link  href="https://googledrive.com/host/0B1LVOoV_2dFtVnVEMlUwVUQxMzQ" xhref="http://ui-grid.info/release/ui-grid-unstable.css" rel="stylesheet" type="text/css" /> -->
    <style>.grid{width:500px;height:500px;}</style>
<!--<script src="https://cdn.rawgit.com/angular-ui/ui-grid.info/gh-pages/release/3.0.0-rc.20/ui-grid.js"></script> -->
	<link  href="https://cdn.rawgit.com/angular-ui/ui-grid.info/gh-pages/release/3.0.0-rc.20/ui-grid.css" rel="stylesheet" type="text/css" /> 
</head>
<body>
    <div ng-controller="MainCtrl"><h1>v10 | UI Grid | 101 Intro</h1>
      <div id="grid1" ui-grid="{ data: myData }" class="grid"></div>
    </div>
    <script xsrc="app.js">
		var app = angular.module('app', ['ngTouch', 'ui.grid']);
		app.controller('MainCtrl', ['$scope', function($scope) {
			$scope.myData = [{
				"firstName": "Cox",
				"lastName": "Carney",
				"company": "Enormo",
				"employed": true
			}, {
				"firstName": "Lorraine",
				"lastName": "Wise",
				"company": "Comveyer",
				"employed": false
			}, {
				"firstName": "Nancy",
				"lastName": "Waters",
				"company": "Fuelton",
				"employed": false
			}];
		}]);
	</script>
</body>
</html>
-------------------------------------- home11.html --------------------------------------
<!DOCTYPE html><html ng-app="app"> <!-- v.11 --> <!-- UI-Grid http://ui-grid.info/docs/#/tutorial/201_editable --> <!-- Not working as of 5/13/2015 -->
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular-touch.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular-animate.js"></script>
    <script src="https://googledrive.com/host/0B1LVOoV_2dFtOFpkeTRieW95QWM" xsrc="http://ui-grid.info/docs/grunt-scripts/csv.js"></script>
    <script src="https://googledrive.com/host/0B1LVOoV_2dFtVEhmY0dhQWF2YW8" xsrc="http://ui-grid.info/docs/grunt-scripts/pdfmake.js"></script>
    <script src="https://googledrive.com/host/0B1LVOoV_2dFtMkNoZTdkMEppZGc" xsrc="http://ui-grid.info/docs/grunt-scripts/vfs_fonts.js"></script>
    <script src="https://googledrive.com/host/0B1LVOoV_2dFtUXBwUlFNaWxyRVU" xsrc="http://ui-grid.info/release/ui-grid-unstable.js"></script>
<!--<link  href="https://googledrive.com/host/0B1LVOoV_2dFtVnVEMlUwVUQxMzQ" xhref="http://ui-grid.info/release/ui-grid-unstable.css" rel="stylesheet" type="text/css" /> -->
    <style>.grid{width:600px;height:450px;}</style>
<!--<script src="https://cdn.rawgit.com/angular-ui/ui-grid.info/gh-pages/release/3.0.0-rc.20/ui-grid.js"></script> -->
	<link  href="https://cdn.rawgit.com/angular-ui/ui-grid.info/gh-pages/release/3.0.0-rc.20/ui-grid.css" rel="stylesheet" type="text/css" /> 
</head>
<body>
    <div ng-controller="MainCtrl"> <strong>Data Length:</strong> {{ gridOptions.data.length | number }}
        <br> <strong>Last Cell Edited:</strong> {{msg.lastCellEdited}}
        <br>
        <div ui-grid="gridOptions" ui-grid-edit class="grid"></div>
        <br>
        <div><strong>Last file uploaded:</strong></div>
        <div>{{lastFile}}</div>
    </div>
    <script xsrc="app.js">
		var app = angular.module('app', ['ngTouch', 'ui.grid', 'ui.grid.edit', 'addressFormatter']);
		angular.module('addressFormatter', []).filter('address', function() {
			return function(input) {
				return input.street + ', ' + input.city + ', ' + input.state + ', ' + input.zip;
			};
		});
		app.controller('MainCtrl', ['$scope', '$http', function($scope, $http) {
			$scope.gridOptions = {};
			$scope.storeFile = function(gridRow, gridCol, files) {
				// ignore all but the first file, it can only select one anyway
				// set the filename into this column
				gridRow.entity.filename = files[0].name;
				// read the file and set it into a hidden column, which we may do stuff with later
				var setFile = function(fileContent) {
					gridRow.entity.file = fileContent.currentTarget.result;
					// put it on scope so we can display it - you'd probably do something else with it
					$scope.lastFile = fileContent.currentTarget.result;
					$scope.$apply();
				};
				var reader = new FileReader();
				reader.onload = setFile;
				reader.readAsText(files[0]);
			};
			$scope.gridOptions.columnDefs = [{
				name: 'id',
				enableCellEdit: false,
				width: '10%'
			}, {
				name: 'name',
				displayName: 'Name (editable)',
				width: '20%'
			}, {
				name: 'age',
				displayName: 'Age',
				type: 'number',
				width: '10%'
			}, {
				name: 'gender',
				displayName: 'Gender',
				editableCellTemplate: 'ui-grid/dropdownEditor',
				width: '20%',
				cellFilter: 'mapGender',
				editDropdownValueLabel: 'gender',
				editDropdownOptionsArray: [{
					id: 1,
					gender: 'male'
				}, {
					id: 2,
					gender: 'female'
				}]
			}, {
				name: 'registered',
				displayName: 'Registered',
				type: 'date',
				cellFilter: 'date:"yyyy-MM-dd"',
				width: '20%'
			}, {
				name: 'address',
				displayName: 'Address',
				type: 'object',
				cellFilter: 'address',
				width: '30%'
			}, {
				name: 'address.city',
				displayName: 'Address (even rows editable)',
				width: '20%',
				cellEditableCondition: function($scope) {
					return $scope.rowRenderIndex % 2
				}
			}, {
				name: 'isActive',
				displayName: 'Active',
				type: 'boolean',
				width: '10%'
			}, {
				name: 'pet',
				displayName: 'Pet',
				width: '20%',
				editableCellTemplate: 'ui-grid/dropdownEditor',
				editDropdownRowEntityOptionsArrayPath: 'foo.bar[0].options',
				editDropdownIdLabel: 'value'
			}, {
				name: 'filename',
				displayName: 'File',
				width: '20%',
				editableCellTemplate: 'ui-grid/fileChooserEditor',
				editFileChooserCallback: $scope.storeFile
			}];
			$scope.msg = {};
			$scope.gridOptions.onRegisterApi = function(gridApi) {
				//set gridApi on scope
				$scope.gridApi = gridApi;
				gridApi.edit.on.afterCellEdit($scope, function(rowEntity, colDef, newValue, oldValue) {
					$scope.msg.lastCellEdited = 'edited row id:' + rowEntity.id + ' Column:' + colDef.name + ' newValue:' + newValue + ' oldValue:' + oldValue;
					$scope.$apply();
				});
			};
			$http.get('/data/500_complex.json').success(function(data) {
				for (i = 0; i < data.length; i++) {
					data[i].registered = new Date(data[i].registered);
					data[i].gender = data[i].gender === 'male' ? 1 : 2;
					if (i % 2) {
						data[i].pet = 'fish'
						data[i].foo = {
							bar: [{
								baz: 2,
								options: [{
									value: 'fish'
								}, {
									value: 'hamster'
								}]
							}]
						}
					} else {
						data[i].pet = 'dog'
						data[i].foo = {
							bar: [{
								baz: 2,
								options: [{
									value: 'dog'
								}, {
									value: 'cat'
								}]
							}]
						}
					}
				}
				$scope.gridOptions.data = data;
			});
		}]).filter('mapGender', function() {
			var genderHash = {
				1: 'male',
				2: 'female'
			};
			return function(input) {
				if (!input) {
					return '';
				} else {
					return genderHash[input];
				}
			};
		});
	</script>
</body>
</html>
-------------------------------------- home12.html --------------------------------------
<!DOCTYPE html><html ng-app="app"> <!-- v.12 --> <!-- UI-Grid http://ui-grid.info/docs/#/tutorial/106_binding -->
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular-touch.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular-animate.js"></script>
    <script src="https://googledrive.com/host/0B1LVOoV_2dFtOFpkeTRieW95QWM" xsrc="http://ui-grid.info/docs/grunt-scripts/csv.js"></script>
    <script src="https://googledrive.com/host/0B1LVOoV_2dFtVEhmY0dhQWF2YW8" xsrc="http://ui-grid.info/docs/grunt-scripts/pdfmake.js"></script>
    <script src="https://googledrive.com/host/0B1LVOoV_2dFtMkNoZTdkMEppZGc" xsrc="http://ui-grid.info/docs/grunt-scripts/vfs_fonts.js"></script>
    <script src="https://googledrive.com/host/0B1LVOoV_2dFtUXBwUlFNaWxyRVU" xsrc="http://ui-grid.info/release/ui-grid-unstable.js"></script>
<!--<link  href="https://googledrive.com/host/0B1LVOoV_2dFtVnVEMlUwVUQxMzQ" xhref="http://ui-grid.info/release/ui-grid-unstable.css" rel="stylesheet" type="text/css" /> -->
    <style>.grid{width:600px;height:450px;}</style>
<!--<script src="https://cdn.rawgit.com/angular-ui/ui-grid.info/gh-pages/release/3.0.0-rc.20/ui-grid.js"></script> -->
	<link  href="https://cdn.rawgit.com/angular-ui/ui-grid.info/gh-pages/release/3.0.0-rc.20/ui-grid.css" rel="stylesheet" type="text/css" /> 
</head>
<body>
	<div ng-controller="MainCtrl"><h1>v12 | UI Grid | 106 Binding</h1>
		<div id="grid1" ui-grid="gridOptions" ui-grid-edit class="grid"></div>
	</div>
    <script xsrc="app.js">
		var app = angular.module('app', ['ngTouch', 'ui.grid', 'ui.grid.edit']);
		app.controller('MainCtrl', ['$scope', function($scope) {
			$scope.gridOptions = {
				enableSorting: true,
				columnDefs: [{
					name: 'firstName',
					field: 'first-name'
				}, {
					name: '1stFriend',
					field: 'friends[0]'
				}, {
					name: 'city',
					field: 'address.city'
				}, {
					name: 'getZip',
					field: 'getZip()',
					enableCellEdit: false
				}],
				data: [{
					"first-name": "Cox",
					"friends": ["friend0"],
					"address": {
						street: "301 Dove Ave",
						city: "Laurel",
						zip: "39565"
					},
					"getZip": function() {
						return this.address.zip;
					}
				}]
			};
		}]);
	</script>
</body>
</html>
-------------------------------------- home13.html --------------------------------------
<div> <!-- v.13 --> <!-- Integration with GAS server --> <!-- Location: scripts > AngularJS | Template | GAS integration | v.01 -->
<!-- Reference: http://stackoverflow.com/questions/28733062/how-to-communicate-with-server-using-angularjs-within-google-apps-script -->
<!-- Reference: https://docs.google.com/spreadsheets/d/1DMlCv6g-8QGRLkFSUgZhOa3PPG66vXy2EBrz-TdtYhI/edit -->
<!-- Reference: https://script.google.com/macros/d/1EHB-3n8SwAbEEcCqBFvr1skNnbGiLU0SVJYbso13bfSpHamjop_1_y9K/edit?template=default&folder=0B1LVOoV_2dFtMzMzM2MyNjYtZjBlYi00MmRhLTgzM2YtODk2Zjc3Zjc5Y2Nk&usp=drive_web -->
----------------------------------- Code.gs -----------------------------------
// Script-as-app template.
function doGet(e){
    var t = HtmlService.createTemplateFromFile('index');
    return t.evaluate().setSandboxMode(HtmlService.SandboxMode.IFRAME);
}
function include(filename){return HtmlService.createHtmlOutputFromFile(filename).getContent();}
function getServerData()  {return "Hello from Server";}
----------------------------------- index.html -----------------------------------
<?!= include('Stylesheet'); ?>
<?!= include('Javascript'); ?>
<body ng-app="toDo">
<div ng-controller="TodoCtrl">
	<div>From Server: {{prom}}</div>
</div>
</body>
----------------------------------- Stylesheet.html -----------------------------------
----------------------------------- Javascript.html -----------------------------------
<script src="//code.angularjs.org/1.3.2/angular.js"></script>
<script>
var app = angular.module('toDo', []);
app.service("myService", ['$rootScope', function($rootScope) {
    var g={data:'gold'};
    function showData(data) {
        g.data = data;
        $rootScope.$broadcast('hereNow', g);
    }
    google.script.run.withSuccessHandler(showData).getServerData();
    return g;
}])
app.controller('TodoCtrl', function($scope, myService, $timeout, $q) {
    $scope.prom = myService.data;
    $scope.$on('hereNow', function(event, data) {
        console.log("D: " + data.data);
        $scope.prom = data.data;
        $scope.$digest();
    })
})
</script>
</div>
-------------------------------------- home14.html --------------------------------------
<div> <!-- v.14 --> <!-- Integration with GAS server — renamed and updated for ui-Grid -->  <!-- Location: scripts > AngularJS | Template | GAS integration | v.02 -->
<!-- Reference: http://stackoverflow.com/questions/28733062/how-to-communicate-with-server-using-angularjs-within-google-apps-script -->
<!-- Reference: https://docs.google.com/spreadsheets/d/1DMlCv6g-8QGRLkFSUgZhOa3PPG66vXy2EBrz-TdtYhI/edit -->
<!-- Reference: https://script.google.com/macros/d/1461ChPD1tnKujXiZ8OVfpXro2w3NXfh-76Fy-N3KSMg3YYP9x3NcOEop/edit -->
----------------------------------- Code.gs -----------------------------------
----------------------------------- index.html -----------------------------------
----------------------------------- Stylesheet.html -----------------------------------
----------------------------------- Javascript.html -----------------------------------
</div>
-------------------------------------- home15.html --------------------------------------
<!DOCTYPE html><html ng-app="myApp"><!-- v.15 --> <!-- AngularJS + Firebase = Angularfire | Chat App Example --><!-- Reference: https://www.firebase.com/tutorial/#session/bgiz49jetku -->

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
    <script src="https://cdn.firebase.com/js/client/2.2.1/firebase.js"></script>
    <script src="https://cdn.firebase.com/libs/angularfire/1.0.0/angularfire.min.js"></script>
    <link  href="https://www.firebase.com/resources/tutorial/css/example.css" rel="stylesheet" />
</head>

<body ng-controller="MyController"><h1>v15 | Chat Demo | Angularfire</h1>

    <!-- CHAT MARKUP -->
    <div class="example-chat l-demo-container">
        <header>Firebase Chat Demo</header>

        <div class="example-chat-toolbar">
            <label for="nameInput">Username:</label>
            <input ng-model="name" type="text" id="nameInput" placeholder="enter a username...">
        </div>

        <ul id="example-messages" class="example-chat-messages">
            <li ng-repeat="msg in messages">
                <strong class="example-chat-username">{{ msg.from }}</strong> {{ msg.body }}
            </li>
        </ul>

        <footer>
            <input ng-model="msg" ng-keydown="addMessage($event)" type="text" id="messageInput" placeholder="Type a message...">
        </footer>
    </div>

    <script>
        var myApp = angular.module("myApp", ["firebase"]);

        myApp.controller("MyController", ["$scope", "$firebaseArray",
            function($scope, $firebaseArray) {
                //CREATE A FIREBASE REFERENCE
                var ref = new Firebase("https://bvc0vytva52.firebaseio-demo.com/");

                // GET MESSAGES AS AN ARRAY
                $scope.messages = $firebaseArray(ref);

                //ADD MESSAGE METHOD
                $scope.addMessage = function(e) {

                    //LISTEN FOR RETURN KEY
                    if (e.keyCode === 13 && $scope.msg) {
                        //ALLOW CUSTOM OR ANONYMOUS USER NAMES
                        var name = $scope.name || "anonymous";

                        //ADD TO FIREBASE
                        $scope.messages.$add({
                            from: name,
                            body: $scope.msg
                        });

                        //RESET MESSAGE
                        $scope.msg = "";
                    }
                }
            }
        ]);
    </script>
</body>

</html>
-------------------------------------- home16.html --------------------------------------
<!DOCTYPE html><html ng-app="app">  <!-- v.16 --> <!-- UI-Grid | Fetch data from URL via $http --><!-- Reference: http://ui-grid.info/docs/#/tutorial/190_large_dataset -->
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
    <script src="https://cdn.firebase.com/js/client/2.2.1/firebase.js"></script>
    <script src="https://cdn.firebase.com/libs/angularfire/1.0.0/angularfire.min.js"></script>
    <link  href="https://www.firebase.com/resources/tutorial/css/example.css" rel="stylesheet" />
    <!-- AngularJS + UI-grid (begin) -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular-touch.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular-animate.js"></script>
    <script src="https://googledrive.com/host/0B1LVOoV_2dFtOFpkeTRieW95QWM" xsrc="http://ui-grid.info/docs/grunt-scripts/csv.js"></script>
    <script src="https://googledrive.com/host/0B1LVOoV_2dFtVEhmY0dhQWF2YW8" xsrc="http://ui-grid.info/docs/grunt-scripts/pdfmake.js"></script>
    <script src="https://googledrive.com/host/0B1LVOoV_2dFtMkNoZTdkMEppZGc" xsrc="http://ui-grid.info/docs/grunt-scripts/vfs_fonts.js"></script>
    <script src="https://googledrive.com/host/0B1LVOoV_2dFtUXBwUlFNaWxyRVU" xsrc="http://ui-grid.info/release/ui-grid-unstable.js"></script>
<!--<link  href="https://googledrive.com/host/0B1LVOoV_2dFtVnVEMlUwVUQxMzQ" xhref="http://ui-grid.info/release/ui-grid-unstable.css" rel="stylesheet" type="text/css" /> -->
    <style>.grid{width:500px;height:450px;}</style>  
<!--<script src="https://cdn.rawgit.com/angular-ui/ui-grid.info/gh-pages/release/3.0.0-rc.20/ui-grid.js"></script> -->
	<link  href="https://cdn.rawgit.com/angular-ui/ui-grid.info/gh-pages/release/3.0.0-rc.20/ui-grid.css" rel="stylesheet" type="text/css" /> 
	<!-- AngularJS + UIgrid (end) -->
</head>
<body xng-app="app"><h1>v16 | UI Grid | 190 Large Dataset</h1>
<!-- UI-Grid -->
    <div ng-controller="MainCtrl">
        <strong>Data Length:</strong> {{ gridOptions.data.length | number }}
        <br><br>
        <div  ui-grid="gridOptions" class="grid"    id="grid1"></div>
        <div xui-grid="gridOptions" class="ui-grid" ui-grid-resize-columns ui-grid-edit ui-grid-row-edit ui-grid-cellNav></div>
    </div>

<script>
var app = angular.module('app', ['ngTouch', 'ui.grid']);

app.controller('MainCtrl', ['$scope', '$http', function ($scope, $http) {
  $scope.gridOptions = {
  };

  $scope.gridOptions.columnDefs = [
    {name:'id'},
    {name:'name'},
    {field:'age'}, // showing backwards compatibility with 2.x.  you can use field in place of name
    {name: 'address.city'},
    {name: 'age again', field:'age'}
  ];

  $http.get('https://cdn.rawgit.com/angular-ui/ui-grid.info/gh-pages/data/10000_complex.json')
    .success(function(data) {
      $scope.gridOptions.data = data;
    });
}]);

</script>
</body>
</html>
-------------------------------------- home17.html --------------------------------------
<!DOCTYPE html><html ng-app="app">  <!-- v.17 --> <!-- UI-Grid | “All Features” --><!-- Reference: http://ui-grid.info/docs/#/tutorial/401_AllFeatures -->
<head>
<!--<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
    <script src="https://cdn.firebase.com/js/client/2.2.1/firebase.js"></script>
    <script src="https://cdn.firebase.com/libs/angularfire/1.0.0/angularfire.min.js"></script>
    <link  href="https://www.firebase.com/resources/tutorial/css/example.css" rel="stylesheet" />
    <!-- AngularJS + UI-grid (begin) -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular-touch.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular-animate.js"></script>
    <script src="https://googledrive.com/host/0B1LVOoV_2dFtOFpkeTRieW95QWM" xsrc="http://ui-grid.info/docs/grunt-scripts/csv.js"></script>
    <script src="https://googledrive.com/host/0B1LVOoV_2dFtVEhmY0dhQWF2YW8" xsrc="http://ui-grid.info/docs/grunt-scripts/pdfmake.js"></script>
    <script src="https://googledrive.com/host/0B1LVOoV_2dFtMkNoZTdkMEppZGc" xsrc="http://ui-grid.info/docs/grunt-scripts/vfs_fonts.js"></script>
    <script src="https://googledrive.com/host/0B1LVOoV_2dFtUXBwUlFNaWxyRVU" xsrc="http://ui-grid.info/release/ui-grid-unstable.js"></script>
<!--<link  href="https://googledrive.com/host/0B1LVOoV_2dFtVnVEMlUwVUQxMzQ" xhref="http://ui-grid.info/release/ui-grid-unstable.css" rel="stylesheet" type="text/css" /> -->
    <style>.grid{width:500px;height:500px;}</style>  
<!--<script src="https://cdn.rawgit.com/angular-ui/ui-grid.info/gh-pages/release/3.0.0-rc.20/ui-grid.js"></script> -->
	<link  href="https://cdn.rawgit.com/angular-ui/ui-grid.info/gh-pages/release/3.0.0-rc.20/ui-grid.css" rel="stylesheet" type="text/css" /> 
	<!-- AngularJS + UIgrid (end) -->
</head>
<body xng-app="app"><h1>v17 | UI Grid | 401 All Features | Format Error</h1>
<!-- UI-Grid -->
    <div ng-controller="MainCtrl">
		<button id="refreshButton" type="button" class="btn btn-success" ng-click="refreshData()">Refresh Data</button>  <strong>Calls Pending:</strong> <span ng-bind="callsPending"></span>
		<br>
		<br>
		<strong>{{ myData.length }} rows</strong>
		<br>
		<div id="grid1" ui-grid="gridOptions" ui-grid-cellNav ui-grid-edit ui-grid-resize-columns ui-grid-pinning ui-grid-selection ui-grid-move-columns ui-grid-importer ui-grid-exporter ui-grid-grouping class="grid"></div>
    </div>
	
<script>
var app = angular.module('app', ['ngTouch', 'ui.grid', 'ui.grid.cellNav', 'ui.grid.edit', 'ui.grid.resizeColumns', 'ui.grid.pinning', 'ui.grid.selection', 'ui.grid.moveColumns', 'ui.grid.exporter', 'ui.grid.importer', 'ui.grid.grouping']);

app.controller('MainCtrl',  ['$scope', '$http', '$timeout', '$interval', 'uiGridConstants',
 function ($scope, $http, $timeout, $interval, uiGridConstants) {

  $scope.gridOptions = {};
  $scope.gridOptions.data = 'myData';
  $scope.gridOptions.enableColumnResizing = true;
  $scope.gridOptions.enableFiltering = true;
  $scope.gridOptions.enableGridMenu = true;
  $scope.gridOptions.showGridFooter = true;
  $scope.gridOptions.showColumnFooter = true;
  $scope.gridOptions.fastWatch = true;

  $scope.gridOptions.rowIdentity = function(row) {
    return row.id;
  };
  $scope.gridOptions.getRowIdentity = function(row) {
    return row.id;
  };

  $scope.gridOptions.columnDefs = [
    { name:'id'              , width: 50 },
    { name:'name'            , width:100 },
    { name:'age'             , width:100 , enableCellEdit: true, aggregationType:uiGridConstants.aggregationTypes.avg, cellTemplate: '<div class="ui-grid-cell-contents"><span>Age:{{COL_FIELD}}</span></div>'   },
    { name:'address.street'  , width:150 , enableCellEdit: true, cellTemplate: '<div class="ui-grid-cell-contents"><span>Street:{{COL_FIELD}}</span></div>'   },
    { name:'address.city'    , width:150 , enableCellEdit: true, cellTemplate: '<div class="ui-grid-cell-contents"><span>City:{{COL_FIELD}}</span></div>'  },
    { name:'address.state'   , width: 50 , enableCellEdit: true, cellTemplate: '<div class="ui-grid-cell-contents"><span>State:{{COL_FIELD}}</span></div>'  },
    { name:'address.zip'     , width: 50 , enableCellEdit: true, cellTemplate: '<div class="ui-grid-cell-contents"><span>Zip:{{COL_FIELD}}</span></div>'  },
    { name:'company'         , width:100 , enableCellEdit: true, cellTemplate: '<div class="ui-grid-cell-contents"><span>Company:{{COL_FIELD}}</span></div>'  },
    { name:'email'           , width:100 , enableCellEdit: true, cellTemplate: '<div class="ui-grid-cell-contents"><span>Email:{{COL_FIELD}}</span></div>'  },
    { name:'phone'           , width:200 , enableCellEdit: true, cellTemplate: '<div class="ui-grid-cell-contents"><span>Phone:{{COL_FIELD}}</span></div>'  },
    { name:'about'           , width:300 , enableCellEdit: true, cellTemplate: '<div class="ui-grid-cell-contents"><span>AAbout:{{COL_FIELD}}</span></div>'  },
    { name:'friends[0].name' , width:150 , displayName:'1st friend', enableCellEdit: true, cellTemplate: '<div class="ui-grid-cell-contents"><span>Friend0:{{COL_FIELD}}</span></div>'  },
    { name:'friends[1].name' , width:150 , displayName:'2nd friend', enableCellEdit: true, cellTemplate: '<div class="ui-grid-cell-contents"><span>Friend1:{{COL_FIELD}}</span></div>'  },
    { name:'friends[2].name' , width:150 , displayName:'3rd friend', enableCellEdit: true, cellTemplate: '<div class="ui-grid-cell-contents"><span>Friend2:{{COL_FIELD}}</span></div>'  },
    { name:'agetemplate'     , width:150 , field:'age', cellTemplate: '<div class="ui-grid-cell-contents"><span>Age 2:{{COL_FIELD}}</span></div>' }
  ];

  $scope.callsPending = 0;

  var i = 0;
  $scope.refreshData = function(){
    $scope.myData = [];

    var start = new Date();
    var sec = $interval(function () {
      $scope.callsPending++;
      
      $http.get('https://cdn.rawgit.com/angular-ui/ui-grid.info/gh-pages/data/500_complex.json')
        .success(function(data) {
          $scope.callsPending--;

          data.forEach(function(row){
            row.name = row.name + ' iter ' + i;
            row.id = i;
            i++;
            $scope.myData.push(row);
          });
        })
        .error(function() {
          $scope.callsPending--
        });
    }, 200);


    $timeout(function() {
       $interval.cancel(sec);
       $scope.left = '';
    }, 2000);

  };

}]);
</script>
</body>
</html>
-------------------------------------- home18.html --------------------------------------
<!DOCTYPE html><html ng-app="app">  <!-- v.18 --> <!-- Firebase (No AngularJS) | Example: User Authentication --><!-- Reference: http://jsfiddle.net/firebase/a221m6pb/ | https://www.firebase.com/docs/web/examples.html -->
<head>
<!--<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
    <script src="https://cdn.firebase.com/js/client/2.2.1/firebase.js"></script>
	<script src="https://cdn.firebase.com/libs/angularfire/1.0.0/angularfire.min.js"></script>
    <link  href="https://www.firebase.com/resources/tutorial/css/example.css" rel="stylesheet" />
    <!-- AngularJS + UI-grid (begin) -- >
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular-touch.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular-animate.js"></script>
    <script src="https://googledrive.com/host/0B1LVOoV_2dFtOFpkeTRieW95QWM" xsrc="http://ui-grid.info/docs/grunt-scripts/csv.js"></script>
    <script src="https://googledrive.com/host/0B1LVOoV_2dFtVEhmY0dhQWF2YW8" xsrc="http://ui-grid.info/docs/grunt-scripts/pdfmake.js"></script>
    <script src="https://googledrive.com/host/0B1LVOoV_2dFtMkNoZTdkMEppZGc" xsrc="http://ui-grid.info/docs/grunt-scripts/vfs_fonts.js"></script>
    <script src="https://googledrive.com/host/0B1LVOoV_2dFtUXBwUlFNaWxyRVU" xsrc="http://ui-grid.info/release/ui-grid-unstable.js"></script>
<!--<link  href="https://googledrive.com/host/0B1LVOoV_2dFtVnVEMlUwVUQxMzQ" xhref="http://ui-grid.info/release/ui-grid-unstable.css" rel="stylesheet" type="text/css" /> -->
<!--<script src="https://cdn.rawgit.com/angular-ui/ui-grid.info/gh-pages/release/3.0.0-rc.20/ui-grid.js"></script> -- >
	<link  href="https://cdn.rawgit.com/angular-ui/ui-grid.info/gh-pages/release/3.0.0-rc.20/ui-grid.css" rel="stylesheet" type="text/css" /> 
	<!-- AngularJS + UIgrid (end) -->
    <script src="//cdn.firebase.com/js/client/2.2.1/firebase.js"></script>
    <script src="//code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-serialize-object/2.0.0/jquery.serialize-object.compiled.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/path.js/0.8.4/path.min.js"></script>
    <link  href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" />
    <style>form{display:none;}</style>  
</head>
<body xng-app="app">

<header class="navbar navbar-static-top navbar-inverse" id="top" role="banner">
    <div class="container">
        <div class="navbar-header">
            <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse"> <span class="sr-only">Toggle navigation</span>
 <span class="icon-bar"></span>
 <span class="icon-bar"></span>
 <span class="icon-bar"></span>

            </button> <a href="#" class="navbar-brand">Firebase login</a>

        </div>
        <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
            <ul class="nav navbar-nav">
                <li> <a href="#/">Login</a>

                </li>
                <li> <a href="#/logout">Logout</a>

                </li>
                <li> <a href="#/register">Register</a>

                </li>
                <li> <a href="#/profile">Profile</a>

                </li>
            </ul>
        </nav>
    </div>
</header>
<div id="container" class="container">
    <!-- LOGIN -->
    <form id="frmLogin" role="form">
         <h2>Login</h2>

        <div class="form-group">
            <label for="txtEmail">Email address</label>
            <input type="email" class="form-control" id="txtEmail" placeholder="Enter email" name="email" />
        </div>
        <div class="form-group">
            <label for="txtPass">Password</label>
            <input type="password" class="form-control" id="txtPass" placeholder="Password" name="password" />
        </div>
        <button type="submit" class="btn btn-default btn-block">Login</button>
        <br />
        <br />
         <h4>Login with</h4>
 <a href="#" class="btn btn-primary bt-social" data-provider="facebook">Facebook</a>
 <a href="#" class="btn btn-info bt-social" data-provider="twitter">Twitter</a>

        <!-- <a href="#" class="btn btn-danger bt-social" data-provider="google">Google+</a> --> <a href="#" class="btn btn-default bt-social" data-provider="github">GitHub</a>
 <a href="#" class="btn btn-warning" id="btAnon">Anon</a>

    </form>
    <!-- / LOGIN -->
    <!-- LOGOUT -->
    <form id="frmLogout" role="form">
         <h2>You are logged out!</h2>

    </form>
    <!-- / LOGOUT -->
    <!-- REGISTER -->
    <form id="frmRegister" role="form">
         <h2>Register</h2>

        <div class="form-group">
            <label for="txtRegEmail">Email address</label>
            <input type="email" class="form-control" id="txtEmail" placeholder="Enter email" name="email" />
        </div>
        <div class="form-group">
            <label for="txtRegPass">Password</label>
            <input type="password" class="form-control" id="txtPass" placeholder="Password" name="password" />
        </div>
        <button type="submit" class="btn btn-default">Register</button>
    </form>
    <!-- / REGISTER -->
    <!-- PROFILE -->
    <form id="frmProfile" role="form">
         <h2>Profile</h2>

        <br />
        <div class="form-group">
            <label for="txtName">Name</label>
            <input type="text" class="form-control" id="txtName" placeholder="Name" name="name" />
        </div>
        <div class="form-group">
            <label for="ddlDino">Favorite Dinosaur</label>
            <select id="ddlDino" name="favoriteDinosaur" class="form-control">
                <option>None</option>
                <option>Pteranodon</option>
                <option>Lambeosaurus</option>
                <option>Stegosaurus</option>
                <option>Daspletosaurus</option>
            </select>
        </div>
        <button type="submit" class="btn btn-primary">Update</button>
    </form>
    <!-- / PROFILE -->
    <hr />
    <!-- ALERT BOX -->
    <div id="alert" class="alert" role="alert">
         <h4 id="alert-title">You are not logged in</h4>

        <p id="alert-detail"></p>
    </div>
    <!-- / ALERT BOX -->
</div>	
<script>
(function (jQuery, Firebase, Path) {
    "use strict";

    // the main firebase reference
    var rootRef = new Firebase('https://docs-sandbox.firebaseio.com/web/uauth'); //'https://blazing-heat-4384.firebaseio.com' (not working; "unauthorized") //'https://bvc0vytva52.firebaseio-demo.com/' (not working; chat demo only?)


    // pair our routes to our form elements and controller
    var routeMap = {
        '#/': {
            form: 'frmLogin',
            controller: 'login'
        },
            '#/logout': {
            form: 'frmLogout',
            controller: 'logout'
        },
            '#/register': {
            form: 'frmRegister',
            controller: 'register'
        },
            '#/profile': {
            form: 'frmProfile',
            controller: 'profile',
            authRequired: true // must be logged in to get here
        },
    };

    // create the object to store our controllers
    var controllers = {};

    // store the active form shown on the page
    var activeForm = null;

    var alertBox = $('#alert');

    function routeTo(route) {
        window.location.href = '#/' + route;
    }

    // Handle third party login providers
    // returns a promise
    function thirdPartyLogin(provider) {
        var deferred = $.Deferred();

        rootRef.authWithOAuthPopup(provider, function (err, user) {
            if (err) {
                deferred.reject(err);
            }

            if (user) {
                deferred.resolve(user);
            }
        });

        return deferred.promise();
    };

    // Handle Email/Password login
    // returns a promise
    function authWithPassword(userObj) {
        var deferred = $.Deferred();
        console.log(userObj);
        rootRef.authWithPassword(userObj, function onAuth(err, user) {
            if (err) {
                deferred.reject(err);
            }

            if (user) {
                deferred.resolve(user);
            }

        });

        return deferred.promise();
    }

    // create a user but not login
    // returns a promsie
    function createUser(userObj) {
        var deferred = $.Deferred();
        rootRef.createUser(userObj, function (err) {

            if (!err) {
                deferred.resolve();
            } else {
                deferred.reject(err);
            }

        });

        return deferred.promise();
    }

    // Create a user and then login in
    // returns a promise
    function createUserAndLogin(userObj) {
        return createUser(userObj)
            .then(function () {
            return authWithPassword(userObj);
        });
    }

    // authenticate anonymously
    // returns a promise
    function authAnonymously() {
        var deferred = $.Deferred();
        rootRef.authAnonymously(function (err, authData) {

            if (authData) {
                deferred.resolve(authData);
            }

            if (err) {
                deferred.reject(err);
            }

        });

        return deferred.promise();
    }

    // route to the specified route if sucessful
    // if there is an error, show the alert
    function handleAuthResponse(promise, route) {
        $.when(promise)
            .then(function (authData) {

            // route
            routeTo(route);

        }, function (err) {
            console.log(err);
            // pop up error
            showAlert({
                title: err.code,
                detail: err.message,
                className: 'alert-danger'
            });

        });
    }

    // options for showing the alert box
    function showAlert(opts) {
        var title = opts.title;
        var detail = opts.detail;
        var className = 'alert ' + opts.className;

        alertBox.removeClass().addClass(className);
        alertBox.children('#alert-title').text(title);
        alertBox.children('#alert-detail').text(detail);
    }

    /// Controllers
    ////////////////////////////////////////

    controllers.login = function (form) {

        // Form submission for logging in
        form.on('submit', function (e) {

            var userAndPass = $(this).serializeObject();
            var loginPromise = authWithPassword(userAndPass);
            e.preventDefault();

            handleAuthResponse(loginPromise, 'profile');

        });

        // Social buttons
        form.children('.bt-social').on('click', function (e) {

            var $currentButton = $(this);
            var provider = $currentButton.data('provider');
            var socialLoginPromise;
            e.preventDefault();

            socialLoginPromise = thirdPartyLogin(provider);
            handleAuthResponse(socialLoginPromise, 'profile');

        });

        form.children('#btAnon').on('click', function (e) {
            e.preventDefault();
            handleAuthResponse(authAnonymously(), 'profilex');
        });

    };

    // logout immediately when the controller is invoked
    controllers.logout = function (form) {
        rootRef.unauth();
    };

    controllers.register = function (form) {

        // Form submission for registering
        form.on('submit', function (e) {

            var userAndPass = $(this).serializeObject();
            var loginPromise = createUserAndLogin(userAndPass);
            e.preventDefault();

            handleAuthResponse(loginPromise, 'profile');

        });

    };

    controllers.profile = function (form) {
        // Check the current user
        var user = rootRef.getAuth();
        var userRef;

        // If no current user send to register page
        if (!user) {
            routeTo('register');
            return;
        }

        // Load user info
        userRef = rootRef.child('users').child(user.uid);
        userRef.once('value', function (snap) {
            var user = snap.val();
            if (!user) {
                return;
            }

            // set the fields
            form.find('#txtName').val(user.name);
            form.find('#ddlDino').val(user.favoriteDinosaur);
        });

        // Save user's info to Firebase
        form.on('submit', function (e) {
            e.preventDefault();
            var userInfo = $(this).serializeObject();

            userRef.set(userInfo, function onComplete() {

                // show the message if write is successful
                showAlert({
                    title: 'Successfully saved!',
                    detail: 'You are still logged in',
                    className: 'alert-success'
                });

            });
        });

    };

    /// Routing
    ////////////////////////////////////////

    // Handle transitions between routes
    function transitionRoute(path) {
        // grab the config object to get the form element and controller
        var formRoute = routeMap[path];
        var currentUser = rootRef.getAuth();

        // if authentication is required and there is no
        // current user then go to the register page and
        // stop executing
        if (formRoute.authRequired && !currentUser) {
            routeTo('register');
            return;
        }

        // wrap the upcoming form in jQuery
        var upcomingForm = $('#' + formRoute.form);

        // if there is no active form then make the current one active
        if (!activeForm) {
            activeForm = upcomingForm;
        }

        // hide old form and show new form
        activeForm.hide();
        upcomingForm.show().hide().fadeIn(750);

        // remove any listeners on the soon to be switched form
        activeForm.off();

        // set the new form as the active form
        activeForm = upcomingForm;

        // invoke the controller
        controllers[formRoute.controller](activeForm);
    }

    // Set up the transitioning of the route
    function prepRoute() {
        transitionRoute(this.path);
    }


    /// Routes
    ///  #/         - Login
    //   #/logout   - Logut
    //   #/register - Register
    //   #/profile  - Profile

    Path.map("#/").to(prepRoute);
    Path.map("#/logout").to(prepRoute);
    Path.map("#/register").to(prepRoute);
    Path.map("#/profile").to(prepRoute);

    Path.root("#/");

    /// Initialize
    ////////////////////////////////////////

    $(function () {

        // Start the router
        Path.listen();

        // whenever authentication happens send a popup
        rootRef.onAuth(function globalOnAuth(authData) {

            if (authData) {
                showAlert({
                    title: 'Logged in!',
                    detail: 'Using ' + authData.provider,
                    className: 'alert-success'
                });
            } else {
                showAlert({
                    title: 'You are not logged in',
                    detail: '',
                    className: 'alert-info'
                });
            }

        });

    });

}(window.jQuery, window.Firebase, window.Path))
</script>
</body>
</html>
-------------------------------------- home19.html --------------------------------------
<!DOCTYPE html><html ng-app="todoApp">

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
    <script xsrc="todo.js"></script>
    <link  xhref="todo.css" rel="stylesheet">
    <link   href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" />
    <style>.done-true{text-decoration:line-through;color:grey;}</style>
</head>

<body><h1>v19 | Todo list app | client-side only, no Firebase or backend persistence</h1>
    <h2>Todo</h2>
    <div ng-controller="TodoListController as todoList">
        <span>{{todoList.remaining()}} of {{todoList.todos.length}} remaining</span> [ <a href="" ng-click="todoList.archive()">archive</a> ]
        <ul class="unstyled">
            <li ng-repeat="todo in todoList.todos">
                <input type="checkbox" ng-model="todo.done">
                <span class="done-{{todo.done}}">{{todo.text}}</span>
            </li>
        </ul>
        <form ng-submit="todoList.addTodo()">
            <input type="text" ng-model="todoList.todoText" size="30" placeholder="add new todo here">
            <input class="btn-primary" type="submit" value="add">
        </form>
    </div>
    <script>
angular.module('todoApp', [])
  .controller('TodoListController', function() {
    var todoList = this;
    todoList.todos = [
      {text:'learn angular', done:true},
      {text:'build an angular app', done:false}];
 
    todoList.addTodo = function() {
      todoList.todos.push({text:todoList.todoText, done:false});
      todoList.todoText = '';
    };
 
    todoList.remaining = function() {
      var count = 0;
      angular.forEach(todoList.todos, function(todo) {
        count += todo.done ? 0 : 1;
      });
      return count;
    };
 
    todoList.archive = function() {
      var oldTodos = todoList.todos;
      todoList.todos = [];
      angular.forEach(oldTodos, function(todo) {
        if (!todo.done) todoList.todos.push(todo);
      });
    };
  });
    </script>
</body>

</html>
-------------------------------------- home20.html --------------------------------------
<!DOCTYPE html><html class="no-js"><!-- Reference: http://codepen.io/awesome/pen/hsAnf -->
  <head>
    <meta charset="utf-8">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" />
    <style>
      #auth {border:none;}
      @media screen and (max-width:740px) { 
        #auth button {width:100%;}
      }
    </style>
  </head>
  <body>
    <main ng-app="app" ng-cloak>
      <nav class="navbar navbar-default" role="navigation">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#auth">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a href="#" class="navbar-brand">AngularFire Auth</a>
          </div>
          <form id="auth" class="navbar-form navbar-right collapse navbar-collapse" ng-controller="AuthCtrl">
            <fieldset ng-hide="auth.user">
              <div class="form-group">
                <input type="email" class="form-control" placeholder="email" ng-model="email" />
              </div>
              <div class="form-group">
                <input type="password" class="form-control" placeholder="password" ng-model="password" />
              </div>
              <button type="submit" class="btn btn-default" ng-click="signIn()">Sign-in|up</button>
            </fieldset>
            <span ng-show="auth.user">
              {{auth.user.name}}
              <button type="submit" class="btn btn-default" ng-click="auth.$logout()">Sign Out</button>
            </span>
          </form>
          <p id="signed_in_as" class="navbar-text navbar-right" ng-show="auth.user">Signed in as {{auth.user.email}}</p>
        </div>
      </nav>
    
      <div class="container" ng-controller="AlertCtrl">
        <div class="alert alert-{{alert.class}}" ng-model="alert.message" ng-show="alert.message">
          {{alert.message}}
        </div>
      </div>
    </main>

<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.7/angular.min.js"></script>
<script src="https://cdn.firebase.com/v0/firebase.js"></script>
<script src="https://cdn.firebase.com/libs/angularfire/0.5.0/angularfire.min.js"></script>
<script src='https://cdn.firebase.com/v0/firebase-simple-login.js'></script>
<script>
app = angular.module('app', ['firebase']);

app.controller('AuthCtrl', [
  '$scope', '$rootScope', '$firebaseAuth', function($scope, $rootScope, $firebaseAuth) {
    var ref = new Firebase('https://angularfireauth.firebaseio.com/');
    $rootScope.auth = $firebaseAuth(ref);
    
    $scope.signIn = function () {
      $rootScope.auth.$login('password', {
        email: $scope.email,
        password: $scope.password
      }).then(function(user) {
        $rootScope.alert.message = '';
      }, function(error) {
        if (error = 'INVALID_EMAIL') {
          console.log('email invalid or not signed up — trying to sign you up!');
          $scope.signUp();
        } else if (error = 'INVALID_PASSWORD') {
          console.log('wrong password!');
        } else {
          console.log(error);
        }
      });
    }

    $scope.signUp = function() {
      $rootScope.auth.$createUser($scope.email, $scope.password, function(error, user) {
        if (!error) {
          $rootScope.alert.message = '';
        } else {
          $rootScope.alert.class = 'danger';
          $rootScope.alert.message = 'The username and password combination you entered is invalid.';
        }
      });
    }
  }
]);

app.controller('AlertCtrl', [
  '$scope', '$rootScope', function($scope, $rootScope) {
    $rootScope.alert = {};
  }
]);
</script>
</body>
</html>
-------------------------------------- home21.html --------------------------------------
<!DOCTYPE html><html><!-- Reference: https://github.com/firebase/firechat -->
<head>
    <meta charset="utf-8">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
<!--<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" />-->
	<link href='https://cdn.firebase.com/libs/firechat/2.0.1/firechat.min.css'   rel='stylesheet' />
</head>
<body>
	<a href='#' onclick='login();'>Login with Twitter</a>
	<div id='firechat-wrapper'></div>
<!--<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.7/angular.min.js"></script> -->
<!--<script src="https://cdn.firebase.com/v0/firebase.js"></script> -->
<!--<script src="https://cdn.firebase.com/libs/angularfire/0.5.0/angularfire.min.js"></script> -->
<!--<script src='https://cdn.firebase.com/v0/firebase-simple-login.js'></script> -->
	<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js'></script><!-- jQuery -->
	<script src='https://cdn.firebase.com/js/client/2.1.0/firebase.js'></script><!-- Firebase -->
	<script src='https://cdn.firebase.com/libs/firechat/2.0.1/firechat.min.js'></script><!-- Firechat -->
	<script>
		// Create a new Firebase reference, and a new instance of the Login client
		var chatRef = new Firebase('https://blazing-heat-4384.firebaseio.com/chat');
		function login() {
		  chatRef.authWithOAuthPopup("twitter", function(error, authData) {
			if (error) {
			  console.log(error);
			}
		  });
		}
		chatRef.onAuth(function(authData) {
		  // Once authenticated, instantiate Firechat with our user id and user name
		  if (authData) {
			initChat(authData);
		  }
		});
	</script>
	<script>
		function initChat(authData) {
		  var chat = new FirechatUI(chatRef, document.getElementById('firechat-wrapper'));
		  chat.setUser(authData.uid, authData[authData.provider].displayName);
		}
	</script>
</body>
</html>